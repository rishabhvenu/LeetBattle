(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1684],{3998:(e,t,s)=>{"use strict";s.d(t,{$:()=>d});var r=s(95155),a=s(12115),l=s(32467),n=s(83101),i=s(64269);let o=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:s,variant:a,size:n,asChild:d=!1,...c}=e,m=d?l.DX:"button";return(0,r.jsx)(m,{className:(0,i.cn)(o({variant:a,size:n,className:s})),ref:t,...c})});d.displayName="Button"},11186:(e,t,s)=>{"use strict";s.d(t,{bq:()=>x,eb:()=>g,gC:()=>p,l6:()=>c,yv:()=>m});var r=s(95155),a=s(12115),l=s(56685),n=s(24033),i=s(12108),o=s(5917),d=s(64269);let c=l.bL;l.YJ;let m=l.WT,x=a.forwardRef((e,t)=>{let{className:s,children:a,...i}=e;return(0,r.jsxs)(l.l9,{ref:t,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...i,children:[a,(0,r.jsx)(l.In,{asChild:!0,children:(0,r.jsx)(n.A,{className:"h-4 w-4 opacity-50"})})]})});x.displayName=l.l9.displayName;let u=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(l.PP,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",s),...a,children:(0,r.jsx)(i.A,{className:"h-4 w-4"})})});u.displayName=l.PP.displayName;let h=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(l.wn,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",s),...a,children:(0,r.jsx)(n.A,{className:"h-4 w-4"})})});h.displayName=l.wn.displayName;let p=a.forwardRef((e,t)=>{let{className:s,children:a,position:n="popper",...i}=e;return(0,r.jsx)(l.ZL,{children:(0,r.jsxs)(l.UC,{ref:t,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:n,...i,children:[(0,r.jsx)(u,{}),(0,r.jsx)(l.LM,{className:(0,d.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,r.jsx)(h,{})]})})});p.displayName=l.UC.displayName,a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(l.JU,{ref:t,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...a})}).displayName=l.JU.displayName;let g=a.forwardRef((e,t)=>{let{className:s,children:a,...n}=e;return(0,r.jsxs)(l.q7,{ref:t,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...n,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(l.VF,{children:(0,r.jsx)(o.A,{className:"h-4 w-4"})})}),(0,r.jsx)(l.p4,{children:a})]})});g.displayName=l.q7.displayName,a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(l.wv,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",s),...a})}).displayName=l.wv.displayName},11647:(e,t,s)=>{"use strict";s.d(t,{E:()=>i});var r=s(95155);s(12115);var a=s(83101),l=s(64269);let n=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:s,...a}=e;return(0,r.jsx)("div",{className:(0,l.cn)(n({variant:s}),t),...a})}},13406:(e,t,s)=>{"use strict";s.d(t,{Xi:()=>d,av:()=>c,j7:()=>o,tU:()=>i});var r=s(95155),a=s(12115),l=s(60574),n=s(64269);let i=l.bL,o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(l.B8,{ref:t,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...a})});o.displayName=l.B8.displayName;let d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(l.l9,{ref:t,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...a})});d.displayName=l.l9.displayName;let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(l.UC,{ref:t,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...a})});c.displayName=l.UC.displayName},17037:(e,t,s)=>{"use strict";s.d(t,{F:()=>i});var r=s(95155),a=s(12115),l=s(59034),n=s(64269);let i=a.forwardRef((e,t)=>{let{className:s,children:a,...i}=e;return(0,r.jsxs)(l.bL,{className:(0,n.cn)("relative overflow-hidden",s),children:[(0,r.jsx)(l.LM,{ref:t,...i,className:"h-full w-full rounded-[inherit]",children:a}),(0,r.jsx)(o,{}),(0,r.jsx)(l.OK,{})]})});i.displayName=l.bL.displayName;let o=a.forwardRef((e,t)=>{let{className:s,orientation:a="vertical",...i}=e;return(0,r.jsx)(l.VM,{ref:t,orientation:a,className:(0,n.cn)("flex touch-none select-none transition-colors","vertical"===a&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===a&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s),...i,children:(0,r.jsx)(l.lr,{className:"relative flex-1 rounded-full bg-border"})})});o.displayName=l.VM.displayName},53029:(e,t,s)=>{"use strict";s.d(t,{default:()=>er});var r=s(95155),a=s(12115),l=s(81597),n=s(30926);let i=(0,n.createServerReference)("603042b03af3080689984b448e593491bc9fdd24cf",n.callServer,void 0,n.findSourceMapURL,"getMatchData"),o=(0,n.createServerReference)("40d3c7ce8321eeeef30ba34d286a36029b482f7b50",n.callServer,void 0,n.findSourceMapURL,"consumeReservation");var d=s(74744);let c=e=>{let{matchStartTime:t}=e,[s,l]=(0,a.useState)({hours:0,minutes:45,seconds:0});(0,a.useEffect)(()=>{if(!t)return void l({hours:0,minutes:45,seconds:0});let e=()=>{let e=27e5-(Date.now()-t);return e>0?{hours:Math.floor(e/36e5),minutes:Math.floor(e/1e3/60%60),seconds:Math.floor(e/1e3%60)}:{hours:0,minutes:0,seconds:0}};l(e());let s=setInterval(()=>{l(e())},1e3);return()=>clearInterval(s)},[t]);let n=e=>e.toString().padStart(2,"0");return(0,r.jsx)("div",{className:"countdown-timer",children:s.hours>0||s.minutes>0||s.seconds>0?(0,r.jsxs)("span",{children:[n(s.hours),":",n(s.minutes),":",n(s.seconds)]}):(0,r.jsx)("span",{children:"Time's up!"})})};var m=s(17037),x=s(65229),u=s(5917),h=s(6132),p=s(39324),g=s(3998);function f(e){var t,s,l,n,i;let{isVisible:o,setRunningPage:d,isLoading:c,testCaseResults:f}=e,[b,v]=(0,a.useState)(1),j=e=>{var t;return(null==(t=f[e])?void 0:t.status)===3};return(0,a.useEffect)(()=>{o&&v(1)},[o]),(0,r.jsx)("div",{className:"fixed inset-x-0 bottom-0 h-[45%] bg-blue-50 border-t border-blue-200 transform transition-all duration-300 ease-in-out ".concat(o?"translate-y-0":"translate-y-full"),style:{zIndex:40},onClick:()=>d(!1),children:(0,r.jsxs)("div",{className:"flex flex-col h-full",onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:"relative px-6 py-4 border-b border-blue-200 bg-white/90",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-black",children:"Test Cases"}),(0,r.jsx)(g.$,{variant:"ghost",size:"icon",className:"h-8 w-8 text-black/70 hover:text-black",onClick:()=>d(!1),children:(0,r.jsx)(x.A,{className:"h-5 w-5"})})]}),f.length>0&&(0,r.jsxs)("div",{className:"mt-3 flex items-center gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(u.A,{className:"h-4 w-4 text-green-600"}),(0,r.jsxs)("span",{className:"text-sm font-medium text-green-600",children:[f.filter(e=>3===e.status).length," Passed"]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(h.A,{className:"h-4 w-4 text-red-600"}),(0,r.jsxs)("span",{className:"text-sm font-medium text-red-600",children:[f.filter(e=>3!==e.status).length," Failed"]})]})]}),(0,r.jsxs)("div",{className:"text-sm text-black/70",children:[f.filter(e=>3===e.status).length,"/",f.length," total"]})]})]}),c?(0,r.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"h-8 w-8 border-3 border-t-[#2599D4] border-[#2599D4]/30 rounded-full animate-spin"}),(0,r.jsx)("span",{className:"text-black",children:"Running test cases..."})]})}):(0,r.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[(0,r.jsxs)("div",{className:"w-72 border-r border-blue-200 p-4 space-y-4 bg-white/50",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[j(b-1)?(0,r.jsx)(u.A,{className:"h-5 w-5 text-green-600"}):(0,r.jsx)(h.A,{className:"h-5 w-5 text-red-600"}),(0,r.jsx)("span",{className:"font-medium ".concat(j(b-1)?"text-green-600":"text-red-600"),children:j(b-1)?"Correct":"Wrong Answer"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-black/70",children:[(0,r.jsx)(p.A,{className:"h-4 w-4"}),"Runtime: ",(null==(t=f[b-1])?void 0:t.time)||0," ms"]})]}),(0,r.jsx)(m.F,{className:"space-y-2",children:f.map((e,t)=>{let s=j(t),a=b===t+1;return(0,r.jsxs)(g.$,{variant:"ghost",className:"w-full justify-between gap-2 ".concat(a?s?"bg-green-100 text-green-600 hover:bg-green-200":"bg-red-100 text-red-600 hover:bg-red-200":"text-black/70 hover:text-black hover:bg-white/50"),onClick:()=>{v(t+1)},children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[s?(0,r.jsx)(u.A,{className:"h-4 w-4 text-green-600"}):(0,r.jsx)(h.A,{className:"h-4 w-4 text-red-600"}),(0,r.jsxs)("span",{children:["Test Case ",t+1]})]}),(0,r.jsx)("div",{className:"text-xs px-2 py-1 rounded ".concat(s?"bg-green-200 text-green-700":"bg-red-200 text-red-700"),children:s?"PASS":"FAIL"})]},t)})})]}),(0,r.jsx)(m.F,{className:"flex-1 p-4",children:(0,r.jsx)("div",{className:"space-y-4",children:f.length>0&&b<=f.length?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"bg-white/90 rounded-lg p-4 border border-blue-200",children:[(0,r.jsx)("h3",{className:"font-medium text-black mb-2",children:"Input"}),(0,r.jsx)("pre",{className:"font-mono text-sm bg-gray-100 p-3 rounded-lg text-black whitespace-pre-wrap",children:(null==(s=f[b-1])?void 0:s.input)||"No Input"})]}),(0,r.jsxs)("div",{className:"bg-white/90 rounded-lg p-4 border border-blue-200",children:[(0,r.jsx)("h3",{className:"font-medium text-black mb-2",children:"Your Output"}),(0,r.jsx)("pre",{className:"font-mono text-sm bg-gray-100 p-3 rounded-lg text-black whitespace-pre-wrap",children:(null==(l=f[b-1])?void 0:l.userOutput)||(null==(n=f[b-1])?void 0:n.error)||"No Output"})]}),(0,r.jsxs)("div",{className:"bg-white/90 rounded-lg p-4 border border-blue-200",children:[(0,r.jsx)("h3",{className:"font-medium text-black mb-2",children:"Expected Output"}),(0,r.jsx)("pre",{className:"font-mono text-sm bg-gray-100 p-3 rounded-lg text-black whitespace-pre-wrap",children:null==(i=f[b-1])?void 0:i.expectedOutput})]})]}):(0,r.jsx)("div",{className:"text-black text-center",children:"No test case data available."})})})]})]})})}var b=s(87847),v=s(85897),j=s(64269);let y=e=>{let{player1:t,player2:s,onAnimationComplete:l}=e,n=(0,a.useRef)(null),i=(0,a.useRef)(!1);(0,a.useEffect)(()=>{i.current||(n.current=new Audio("/sword-clash.mp3"),n.current.play().catch(e=>console.warn("Error playing sound:",e)),i.current=!0);let e=setTimeout(l,2e3);return()=>{clearTimeout(e),n.current&&(n.current.pause(),n.current.currentTime=0)}},[l]);let[o,d]=(0,b.zh)(()=>({from:{transform:"translateX(-100%) rotate(45deg)"},to:{transform:"translateX(-20%) rotate(45deg)"},config:{...b.$W.wobbly,duration:500}})),[c,m]=(0,b.zh)(()=>({from:{transform:"translateX(100%) rotate(-45deg)"},to:{transform:"translateX(20%) rotate(-45deg)"},config:{...b.$W.wobbly,duration:500}})),x=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"w-24 h-24",a=(0,j.T)(e);return(0,r.jsxs)(v.eu,{className:s,children:[a?(0,r.jsx)(v.BK,{src:a,alt:"Profile"}):null,(0,r.jsx)(v.q5,{className:"bg-gray-200 text-gray-600 font-bold text-xl",children:t})]})};return(0,r.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-md"}),(0,r.jsxs)("div",{className:"relative flex items-center justify-center gap-12 z-10",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[x(t.avatar,t.initials),(0,r.jsx)("span",{className:"mt-2 text-slate-200 font-bold text-lg",children:t.name}),(0,r.jsxs)("span",{className:"text-slate-400 text-sm",children:["@",t.username]})]}),(0,r.jsxs)("div",{className:"relative w-48 h-48 flex items-center justify-center",children:[(0,r.jsx)(b.CS.div,{style:o,className:"w-24 h-48 absolute left-1/2 -ml-12",children:(0,r.jsx)("img",{src:"/sword-left.svg",alt:"Left sword",width:96,height:192,className:"w-full h-full"})}),(0,r.jsx)(b.CS.div,{style:c,className:"w-24 h-48 absolute right-1/2 -mr-12",children:(0,r.jsx)("img",{src:"/sword-right.svg",alt:"Right sword",width:96,height:192,className:"w-full h-full"})})]}),(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[x(s.avatar,s.initials),(0,r.jsx)("span",{className:"mt-2 text-slate-200 font-bold text-lg",children:s.name}),(0,r.jsxs)("span",{className:"text-slate-400 text-sm",children:["@",s.username]})]})]})]})};var N=s(68854),w=s(85843),k=s(65993),C=s(37397);let T=e=>{let{player1:t,player2:s,onBackToHome:l,onJoinQueue:n}=e,i=(0,a.useRef)(null),o=(0,a.useRef)(!1),d=!t.isWinner&&!s.isWinner,[c,m]=(0,a.useState)(!1);(0,a.useEffect)(()=>{o.current||(i.current=new Audio("/sword-clash.mp3"),i.current.play().catch(e=>console.warn("Error playing sound:",e)),o.current=!0);let e=setTimeout(()=>{m(!0)},2500);return()=>{clearTimeout(e),i.current&&(i.current.pause(),i.current.currentTime=0)}},[]);let[x]=(0,b.zh)(()=>({from:{transform:"translateX(-100%) rotate(45deg)"},to:{transform:d?"translateX(-60%) rotate(0deg)":t.isWinner?"translateX(-10%) rotate(0deg)":"translateX(-30%) rotate(90deg)"},config:{...b.$W.wobbly,duration:1e3}})),[u]=(0,b.zh)(()=>({from:{transform:"translateX(100%) rotate(-45deg)"},to:{transform:d?"translateX(60%) rotate(0deg)":s.isWinner?"translateX(10%) rotate(0deg)":"translateX(30%) rotate(-90deg)"},config:{...b.$W.wobbly,duration:1e3}})),[h]=(0,b.zh)(()=>({from:{opacity:0,transform:"translateY(-20px)"},to:{opacity:1,transform:"translateY(0px)"},config:{tension:300,friction:10},delay:500})),[p]=(0,b.zh)(()=>({from:{opacity:0,transform:"scale(0.5)"},to:{opacity:1,transform:"scale(1)"},config:{tension:300,friction:10},delay:500})),f=e=>{let{player:t}=e;return(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsxs)("div",{className:"relative",children:[t.isWinner&&(0,r.jsx)(b.CS.div,{style:h,className:"absolute -top-10 inset-x-0 mx-auto flex items-center justify-center",children:(0,r.jsx)(N.A,{className:"w-8 h-8 text-yellow-400 drop-shadow-[0_0_8px_rgba(255,215,0,0.7)]"})}),((e,t,s,a)=>{let l=(0,j.T)(e);return(0,r.jsxs)(v.eu,{className:"w-24 h-24 ".concat(s?"ring-4 ring-yellow-400 shadow-lg shadow-yellow-400/50":a?"ring-4 ring-blue-400 shadow-lg shadow-blue-400/50":""),children:[l?(0,r.jsx)(v.BK,{src:l,alt:"Profile"}):null,(0,r.jsx)(v.q5,{className:"bg-gray-200 text-gray-600 font-bold text-xl",children:t})]})})(t.avatar,t.initials,t.isWinner,d)]}),(0,r.jsx)("span",{className:"mt-2 text-slate-200 font-bold text-lg",children:t.name}),(0,r.jsxs)("span",{className:"text-slate-400 text-sm",children:["@",t.username]}),(0,r.jsx)("span",{className:"mt-2 font-bold text-xl ".concat(t.isWinner?"text-yellow-400 drop-shadow-[0_0_10px_rgba(255,215,0,0.7)]":d?"text-blue-400 drop-shadow-[0_0_10px_rgba(0,128,255,0.7)]":"text-red-500"),children:t.isWinner?"Winner":d?"Draw":"Loser"}),t.ratingChange&&(0,r.jsxs)("div",{className:"mt-3 flex flex-col items-center gap-1",children:[(0,r.jsxs)("div",{className:"text-slate-300 text-sm",children:[t.ratingChange.oldRating," → ",t.ratingChange.newRating]}),(0,r.jsxs)("div",{className:"font-bold text-lg ".concat(t.ratingChange.change>0?"text-green-400":t.ratingChange.change<0?"text-red-400":"text-slate-400"),children:[t.ratingChange.change>0?"+":"",t.ratingChange.change]})]})]})},[y]=(0,b.zh)(()=>({from:{opacity:0,transform:"translateY(20px)"},to:{opacity:+!!c,transform:c?"translateY(0px)":"translateY(20px)"},config:{tension:300,friction:20}}),[c]);return(0,r.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-md"}),(0,r.jsxs)("div",{className:"relative flex flex-col items-center justify-center gap-12 z-10",children:[(0,r.jsxs)("div",{className:"flex items-center justify-center gap-12",children:[(0,r.jsx)(f,{player:t}),(0,r.jsxs)("div",{className:"relative w-80 h-48 flex items-center justify-center",children:[d&&(0,r.jsx)(b.CS.div,{style:p,className:"absolute inset-0 flex items-center justify-center z-20",children:(0,r.jsx)(w.A,{className:"w-20 h-20 text-blue-400 drop-shadow-[0_0_8px_rgba(0,128,255,0.7)]"})}),(0,r.jsx)(b.CS.div,{style:x,className:"w-24 h-48 absolute left-1/2 -ml-12 z-10",children:(0,r.jsx)("img",{src:"/sword-left.svg",alt:"Left sword",width:96,height:192,className:"w-full h-full ".concat(t.isWinner||d?"filter brightness-125 drop-shadow-[0_0_8px_rgba(255,215,0,0.7)]":"filter brightness-75")})}),(0,r.jsx)(b.CS.div,{style:u,className:"w-24 h-48 absolute right-1/2 -mr-12 z-10",children:(0,r.jsx)("img",{src:"/sword-right.svg",alt:"Right sword",width:96,height:192,className:"w-full h-full ".concat(s.isWinner||d?"filter brightness-125 drop-shadow-[0_0_8px_rgba(255,215,0,0.7)]":"filter brightness-75")})})]}),(0,r.jsx)(f,{player:s})]}),c&&(0,r.jsxs)(b.CS.div,{style:y,className:"flex gap-4 mt-8",children:[(0,r.jsxs)(g.$,{onClick:l,className:"bg-slate-700 hover:bg-slate-600 text-white px-6 py-3 rounded-lg flex items-center gap-2 transition-colors",size:"lg",children:[(0,r.jsx)(k.A,{className:"w-5 h-5"}),"Back to Home"]}),(0,r.jsxs)(g.$,{onClick:n,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg flex items-center gap-2 transition-colors",size:"lg",children:[(0,r.jsx)(C.A,{className:"w-5 h-5"}),"Join Queue"]})]})]})]})};var R=s(20063),S=s(86948),E=s(65142),A=s(76444),I=s(6613),M=s(30814),_=s(42529),L=s(20508),z=s(59835);let P=e=>{let{matchResult:t,testsPassed:s,totalTests:l,opponentName:n,onClose:i}=e,[o,c]=(0,a.useState)(!1),[m,u]=(0,a.useState)({username:"",email:"",password:"",confirmPassword:"",firstName:"",lastName:""});(0,R.useRouter)();let h=e=>{let{name:t,value:s}=e.target;u(e=>({...e,[t]:s}))},p=async e=>{if(e.preventDefault(),m.password!==m.confirmPassword)return void d.oR.error("Passwords do not match");if(m.password.length<8)return void d.oR.error("Password must be at least 8 characters long");c(!0);try{let e=new FormData;e.append("username",m.username),e.append("email",m.email),e.append("password",m.password),e.append("confirmPassword",m.confirmPassword),e.append("firstName",m.firstName),e.append("lastName",m.lastName);let t=await (0,z.D)(null,e);if(t.error)return void d.oR.error(t.error);d.oR.success("Account created successfully! Your match has been saved.")}catch(e){console.error("Registration error:",e),d.oR.error("Failed to create account. Please try again.")}finally{c(!1)}},f=()=>t?t.winner?"You Won!":t.draw?"Draw!":"You Lost":"Match Complete";return(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,r.jsxs)(S.Zp,{className:"w-full max-w-2xl bg-white shadow-2xl",children:[(0,r.jsxs)(S.aR,{className:"relative",children:[(0,r.jsx)(S.ZB,{className:"text-2xl font-bold text-center text-black",children:f()}),(0,r.jsx)(g.$,{variant:"ghost",size:"sm",onClick:i,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",children:(0,r.jsx)(x.A,{className:"h-5 w-5"})})]}),(0,r.jsxs)(S.Wu,{className:"p-6",children:[(0,r.jsxs)("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-black mb-3",children:"Your Match Results"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(I.A,{className:"h-5 w-5 text-yellow-600"}),(0,r.jsxs)("span",{className:"text-sm text-black/70",children:["Result: ",(0,r.jsx)("span",{className:t?t.winner?"text-green-600":t.draw?"text-yellow-600":"text-red-600":"text-blue-600",children:f()})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(M.A,{className:"h-5 w-5",style:{color:"#2599D4"}}),(0,r.jsxs)("span",{className:"text-sm text-black/70",children:["Opponent: ",n]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(_.A,{className:"h-5 w-5 text-green-600"}),(0,r.jsxs)("span",{className:"text-sm text-black/70",children:["Tests Passed: ",s,"/",l]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(L.A,{className:"h-5 w-5 text-gray-600"}),(0,r.jsx)("span",{className:"text-sm text-black/70",children:"Mode: Guest Match"})]})]})]}),(0,r.jsxs)("div",{className:"mb-6 text-center",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-black mb-2",children:"Sign up to save this match and play more!"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Create an account to keep your progress and compete with other players."})]}),(0,r.jsxs)("form",{onSubmit:p,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(A.J,{htmlFor:"firstName",className:"text-sm font-medium text-black",children:"First Name"}),(0,r.jsx)(E.p,{id:"firstName",name:"firstName",type:"text",required:!0,value:m.firstName,onChange:h,className:"mt-1"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(A.J,{htmlFor:"lastName",className:"text-sm font-medium text-black",children:"Last Name"}),(0,r.jsx)(E.p,{id:"lastName",name:"lastName",type:"text",required:!0,value:m.lastName,onChange:h,className:"mt-1"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(A.J,{htmlFor:"username",className:"text-sm font-medium text-black",children:"Username"}),(0,r.jsx)(E.p,{id:"username",name:"username",type:"text",required:!0,value:m.username,onChange:h,className:"mt-1"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(A.J,{htmlFor:"email",className:"text-sm font-medium text-black",children:"Email"}),(0,r.jsx)(E.p,{id:"email",name:"email",type:"email",required:!0,value:m.email,onChange:h,className:"mt-1"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(A.J,{htmlFor:"password",className:"text-sm font-medium text-black",children:"Password"}),(0,r.jsx)(E.p,{id:"password",name:"password",type:"password",required:!0,value:m.password,onChange:h,className:"mt-1"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(A.J,{htmlFor:"confirmPassword",className:"text-sm font-medium text-black",children:"Confirm Password"}),(0,r.jsx)(E.p,{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,value:m.confirmPassword,onChange:h,className:"mt-1"})]}),(0,r.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,r.jsx)(g.$,{type:"submit",disabled:o,className:"flex-1 px-6 py-3 text-white font-semibold rounded-full transition-colors duration-300",style:{backgroundColor:"#2599D4"},children:o?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"h-4 w-4 mr-2 border-2 border-t-white border-white/30 rounded-full animate-spin"}),"Creating Account..."]}):"Create Account & Save Match"}),(0,r.jsx)(g.$,{type:"button",variant:"outline",onClick:i,className:"px-6 py-3 text-black font-semibold rounded-full border-2 border-gray-300",children:"Maybe Later"})]})]})]})]})})};var W=s(85778),F=s(57268);let O=a.forwardRef((e,t)=>{let{className:s,orientation:a="horizontal",decorative:l=!0,...n}=e;return(0,r.jsx)(F.b,{ref:t,decorative:l,orientation:a,className:(0,j.cn)("shrink-0 bg-border","horizontal"===a?"h-[1px] w-full":"h-full w-[1px]",s),...n})});O.displayName=F.b.displayName;var D=s(11647),q=s(13406),B=s(49476),U=s(59690);let Y=e=>{let{className:t,...s}=e;return(0,r.jsx)(U.YZ,{className:(0,j.cn)("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",t),...s})},J=U.Zk,$=e=>{let{withHandle:t,className:s,...a}=e;return(0,r.jsx)(U.TW,{className:(0,j.cn)("relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90",s),...a,children:t&&(0,r.jsx)("div",{className:"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border",children:(0,r.jsx)(B.A,{className:"h-2.5 w-2.5"})})})};var X=s(11186),V=s(1473),H=s(28150),G=s(89715),K=s(75159),Z=s(85921),Q=s(26983),ee=s(2317);let et=[{value:"javascript",label:"JavaScript"},{value:"python",label:"Python"},{value:"java",label:"Java"},{value:"cpp",label:"C++"}],es={easy:{color:"text-green-600",bg:"bg-green-100",text:"text-green-600",icon:V.A},medium:{color:"text-yellow-600",bg:"bg-yellow-100",text:"text-yellow-600",icon:H.A},hard:{color:"text-red-600",bg:"bg-red-100",text:"text-red-600",icon:p.A}};function er(e){var t,s,n,h,p,b,N;let{userId:w,username:k,userAvatar:C,isGuest:R=!1,guestMatchData:S=null}=e,E=(0,a.useRef)(null),A=(0,a.useRef)(null),[L,z]=(0,a.useState)(!1),[F,B]=(0,a.useState)(!1),[U,H]=(0,a.useState)(0),[er,ea]=(0,a.useState)(0),[el,en]=(0,a.useState)(()=>localStorage.getItem("preferred-language")||"javascript"),[ei,eo]=(0,a.useState)(""),[ed,ec]=(0,a.useState)(null),[em,ex]=(0,a.useState)(!1),[eu,eh]=(0,a.useState)(null),[ep,eg]=(0,a.useState)("description"),[ef,eb]=(0,a.useState)([]),[ev,ej]=(0,a.useState)(null),[ey,eN]=(0,a.useState)(null),[ew,ek]=(0,a.useState)(null),[eC,eT]=(0,a.useState)(!0),[eR,eS]=(0,a.useState)(!1),[eE,eA]=(0,a.useState)(!1),[eI,eM]=(0,a.useState)(!1),[e_,eL]=(0,a.useState)([]),[ez,eP]=(0,a.useState)({passed:0,total:0}),[eW,eF]=(0,a.useState)({name:"Opponent",avatar:null,globalRank:1234,gamesWon:50,winRate:65,rating:1200}),[eO,eD]=(0,a.useState)({rating:1200,winRate:0,totalMatches:0}),[eq,eB]=(0,a.useState)(0),[eU,eY]=(0,a.useState)(0),[eJ,e$]=(0,a.useState)(0),[eX,eV]=(0,a.useState)(!1),[eH,eG]=(0,a.useState)(null),[eK,eZ]=(0,a.useState)(null),[eQ,e0]=(0,a.useState)(!1),[e1,e2]=(0,a.useState)(0),[e4,e5]=(0,a.useState)(!1),[e6,e3]=(0,a.useState)([]),[e7,e9]=(0,a.useState)(null),[e8,te]=(0,a.useState)(null),tt=(0,a.useRef)(!1);(0,a.useEffect)(()=>{if(!ey&&!R)return void console.log("No matchId yet, skipping data load");if(R&&S&&!ey&&(console.log("Setting matchId for guest from guestMatchData:",null==S?void 0:S.matchId),eN(null==S?void 0:S.matchId)),R&&!e4)return void console.log("Guest user waiting for match_init message...");if(!L&&!R)return void console.log("Not connected yet, waiting for room join...");console.log("Loading match data for matchId:",ey);let e=async()=>{try{let n="http://localhost:2567";if(console.log("Loading match data for matchId:",ey,"userId:",w,"isGuest:",R),console.log("Match key would be:","match:".concat(ey)),!ey)return void console.log("No matchId available for data loading");let o=await i(ey,w);if(console.log("Match data result:",o),!o.success){if(console.error("Failed to load match data:",o.error),"match_not_found"===o.error&&E.current&&e1<5){console.log("Match data not ready yet, retrying in 1000ms... (attempt ".concat(e1+1,"/5)")),e2(e=>e+1),setTimeout(()=>{e()},1e3);return}w&&await fetch("".concat(n,"/queue/clear"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:w})}),d.oR.error("Match no longer exists. Redirecting to queue..."),setTimeout(()=>{window.location.href="/queue"},2e3);return}console.log("Match data loaded successfully"),o.problem&&(ej(o.problem),o.problem.testCasesCount&&e$(o.problem.testCasesCount)),o.opponent&&(eF({name:o.opponent.name,avatar:o.opponent.avatar,globalRank:o.opponent.globalRank,gamesWon:o.opponent.gamesWon,winRate:o.opponent.winRate,rating:o.opponent.rating}),await new Promise(e=>setTimeout(e,100))),o.userStats&&eD({rating:o.userStats.rating||1200,winRate:o.userStats.winRate||0,totalMatches:o.userStats.totalMatches||0});let c=await fetch("".concat(n,"/match/snapshot?matchId=").concat(encodeURIComponent(ey)));if(c.ok){var t,s,r,a,l;let e=await c.json(),n=(null==(t=e.playersCode)?void 0:t[w])||{};if(n[el]&&n[el].trim().length>0?eo(n[el]):(null==(r=o.problem)||null==(s=r.starterCode)?void 0:s[el])&&eo(o.problem.starterCode[el]),e.submissions&&Array.isArray(e.submissions)){let t=e.submissions.filter(e=>e.userId===w).map(e=>tr(e)).sort((e,t)=>new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime());eb(t),console.log("Loaded",t.length,"submissions");let s=e.submissions||[],r=s.filter(e=>e.userId===w).reduce((e,t)=>{var s,r;let a=(null==(s=t.testResults)?void 0:s.filter(e=>3===e.status).length)||0,l=(null==e||null==(r=e.testResults)?void 0:r.filter(e=>3===e.status).length)||0;return a>l?t:e},null),n=s.filter(e=>e.userId!==w).reduce((e,t)=>{var s,r;let a=(null==(s=t.testResults)?void 0:s.filter(e=>3===e.status).length)||0,l=(null==e||null==(r=e.testResults)?void 0:r.filter(e=>3===e.status).length)||0;return a>l?t:e},null);if(r){let e=(null==(a=r.testResults)?void 0:a.filter(e=>3===e.status).length)||0;eB(e)}if(n){let e=(null==(l=n.testResults)?void 0:l.filter(e=>3===e.status).length)||0;eY(e)}}}await new Promise(e=>setTimeout(e,50)),eT(!1),tt.current||(B(!0),tt.current=!0),console.log("Match data load complete")}catch(e){console.error("Error loading match data:",e),eT(!1)}};e()},[ey,w,el,L,e4]),(0,a.useEffect)(()=>{if(E.current){if(console.log("Using existing room connection"),z(!0),E.current.sessionId){let e=E.current.matchId;e&&!ey&&eN(e)}return}if(A.current){console.log("Join already in progress, waiting..."),A.current.then(e=>{E.current=e,z(!0);let t=e.matchId;t&&!ey&&eN(t)}).catch(()=>{});return}let e=async()=>{try{let e;if(R){if(!S)throw window.location.href="/queue",Error("No guest match data");if(!S.roomId)throw window.location.href="/queue",Error("No roomId in guest match data");let e={roomId:S.roomId,matchId:S.matchId},t=new l.Kj("ws://localhost:2567");console.log("Guest attempting to join room:",e.roomId,"with userId:",w),console.log("Colyseus WS URL:","ws://localhost:2567");let s=await t.joinById(e.roomId,{userId:w,matchId:e.matchId});return console.log("Guest successfully joined room:",s.id),console.log("Room state:",s.state),E.current=s,z(!0),s}console.log("Consuming reservation for userId:",w);let t=await o(w);if(console.log("Reservation result:",t),!t.success||!t.reservation)throw A.current=null,z(!1),d.oR.error("Reservation expired."),window.location.href="/queue",Error("Reservation expired");let s=t.reservation,r=null==s?void 0:s.matchId;eN(r),console.log("Joining room:",s.roomId);let a=new l.Kj("ws://localhost:2567");try{e=await a.joinById(s.roomId,{userId:w,matchId:s.matchId}),console.log("Successfully joined room:",e.id)}catch(e){throw console.error("Join failed:",e),await fetch("".concat("http://localhost:2567","/queue/clear"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:w})}),A.current=null,e}return E.current=e,z(!0),console.log("Room connected, setting up message handlers for guest:",R),e.matchId=r,E.current=e,z(!0),e}catch(e){throw console.error("Error in doJoin:",e),A.current=null,E.current=null,z(!1),d.oR.error("Failed to join match: ".concat(e instanceof Error?e.message:"Unknown error")),window.location.href="/queue",e}};A.current=e(),A.current.then(e=>{console.log("Setting up message handlers for room:",e.id,"isGuest:",R),e.onMessage("code_update",e=>{console.log("Received code_update:",e),(null==e?void 0:e.userId)&&e.userId!==w&&ea(e.lines||0)}),e.onMessage("kicked",()=>{d.oR.error("You were disconnected: another connection detected.");try{e.leave()}catch(e){}}),e.onMessage("match_init",e=>{if(console.log("Received match_init:",e),console.log("Current loading state before clearing:",eC),console.log("Is guest user:",R),R&&(e5(!0),console.log("Guest user: match_init received, match is ready")),e.startedAt){let t=new Date(e.startedAt).getTime();ek(t),console.log("Match started at (from WebSocket):",new Date(t).toISOString()),tt.current||(B(!0),tt.current=!0,console.log("Matchup animation triggered for guest"))}if(e.linesWritten){H(e.linesWritten[w]||0);let t=Object.keys(e.linesWritten).find(e=>e!==w);t&&ea(e.linesWritten[t]||0)}}),e.onMessage("new_submission",e=>{var t,s;if(console.log("New submission received:",e),e.userId===w){let s=tr(e.submission);eb(e=>[s,...e]),eg("submissions"),eB((null==(t=e.submission.testResults)?void 0:t.filter(e=>3===e.status).length)||0)}else{let t=tr(e.submission);eb(e=>[t,...e]),eY((null==(s=e.submission.testResults)?void 0:s.filter(e=>3===e.status).length)||0)}}),e.onMessage("rate_limit",e=>{let{action:t}=e;d.oR.info("submit_code"===t?"Too many submits. Slow down.":"Too many test runs.")}),e.onMessage("match_winner",e=>{console.log("Match winner received:",e),eG({winner:e.userId===w,draw:!1}),eZ(e.ratingChanges||null),R?setTimeout(()=>{e0(!0)},2e3):eV(!0)}),e.onMessage("match_draw",e=>{console.log("Match draw received:",e),eG({winner:!1,draw:!0}),eZ(e.ratingChanges||null),R?setTimeout(()=>{e0(!0)},2e3):eV(!0)}),e.onMessage("test_submission_result",e=>{var t,s;console.log("Test results received:",e),eA(!1),e.userId===w?(eL(e.testResults),eB((null==(t=e.testResults)?void 0:t.filter(e=>3===e.status).length)||0)):(e3(e.testResults),eY((null==(s=e.testResults)?void 0:s.filter(e=>3===e.status).length)||0))}),e.onMessage("submission_result",e=>{console.log("Submission results received:",e),eM(!1),e.userId===w?e9(e):te(e)}),e.onMessage("complexity_failed",e=>{console.log("Complexity check failed:",e),e.userId===w&&(eM(!1),eh({...e,allPassed:!1,errorType:"complexity",complexityError:"All tests passed, but your solution does not meet the required time complexity.",expectedComplexity:e.expectedComplexity,timeComplexity:e.derivedComplexity,language:e.language||el}),ex(!0))}),e.onMessage("test_progress_update",e=>{console.log("Test progress update received:",e),(null==e?void 0:e.userId)&&e.userId!==w&&eY(e.testsPassed||0)})}).catch(()=>{});{let e=()=>{if(E.current)try{E.current.leave(),console.log("Left room on page unload")}catch(e){}E.current=null,A.current=null};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}}},[w]),(0,a.useEffect)(()=>{var e;H(((null==(e=ei.match(/\n/g))?void 0:e.length)||0)+ +!!ei)},[ei]),(0,a.useEffect)(()=>{e7&&!e7.allPassed&&(eh(tr(e7.submission||e7)),ex(!0))},[e7,el]);let ts=e=>{let t=Date.now(),s=Math.floor((t-new Date(e).getTime())/1e3),r=Math.floor(s/60),a=Math.floor(r/60),l=Math.floor(a/24);return s<60?"Just now":r<60?"".concat(r," minute").concat(1===r?"":"s"," ago"):a<24?"".concat(a," hour").concat(1===a?"":"s"," ago"):"".concat(l," day").concat(1===l?"":"s"," ago")},tr=e=>{var t,s,r,a,l,n,i;if(e.complexityFailed)return{id:e.timestamp,status:"Time Complexity Failed",errorType:"complexity",language:e.language.charAt(0).toUpperCase()+e.language.slice(1),time:ts(e.timestamp),date:ts(e.timestamp),timestamp:e.timestamp,code:e.code||"// Code not available",passedTests:(null==(a=e.testResults)?void 0:a.filter(e=>3===e.status).length)||0,totalTests:(null==(l=e.testResults)?void 0:l.length)||0,runtime:e.averageTime?"".concat(e.averageTime," ms"):"—",memory:e.averageMemory?"".concat(e.averageMemory," MB"):"—",timeComplexity:e.derivedComplexity||"Unknown",expectedComplexity:e.expectedComplexity,spaceComplexity:"O(1)",complexityError:"All tests passed, but your solution does not meet the required time complexity."};let o=null==(t=e.testResults)?void 0:t.find(e=>{var t;return 3!==e.status&&(null==(t=e.status)?void 0:t.id)!==3}),d=(null==(s=e.testResults)?void 0:s.filter(e=>{var t;return 3===e.status||(null==(t=e.status)?void 0:t.id)===3}).length)||0,c=(null==(r=e.testResults)?void 0:r.length)||0,m="Accepted",x={type:"",label:""};return e.passed?c>0&&d!==c&&(m=(x=tn(("number"==typeof(null==o?void 0:o.status)?o.status:null==(i=o.status)?void 0:i.id)||4)).label):o?m=(x=tn(("number"==typeof o.status?o.status:null==(n=o.status)?void 0:n.id)||4)).label:(m="Wrong Answer",x={type:"wrong",label:"Wrong Answer"}),{id:e.timestamp,status:m,errorType:x.type,language:(null==e?void 0:e.language)?e.language.charAt(0).toUpperCase()+e.language.slice(1):"Unknown",time:ts(e.timestamp),date:ts(e.timestamp),timestamp:e.timestamp,code:e.code||"// Code not available",passedTests:d,totalTests:c,runtime:e.averageTime?"".concat(e.averageTime," ms"):"—",memory:e.averageMemory?"".concat(e.averageMemory," MB"):"—",timeComplexity:"O(n)",spaceComplexity:"O(1)",compileError:o.error&&"compile"===x.type?o.error:void 0,runtimeError:o.error&&"runtime"===x.type?o.error:void 0,systemError:o.error&&"system"===x.type?o.error:void 0,timeoutError:o.error&&"timeout"===x.type?o.error:void 0,memoryError:o.error&&"memory"===x.type?o.error:void 0,failedTestCase:o?{input:o.input||"",expected:o.expectedOutput||"",actual:o.userOutput||""}:void 0}},ta=async e=>{if(en(e),localStorage.setItem("preferred-language",e),ey)try{let s=await fetch("".concat("http://localhost:2567","/match/snapshot?matchId=").concat(encodeURIComponent(ey)));if(s.ok){var t;let r=(null==(t=(await s.json()).playersCode)?void 0:t[w])||{};r[e]&&r[e].trim().length>0?eo(r[e]):(null==ev?void 0:ev.starterCode)&&ev.starterCode[e]&&eo(ev.starterCode[e])}}catch(e){}else(null==ev?void 0:ev.starterCode)&&ev.starterCode[e]&&eo(ev.starterCode[e]);E.current&&E.current.send("set_language",{userId:w,language:e})},tl=ev?es[(null==(t=ev.difficulty)?void 0:t.toLowerCase())||"medium"]:es.medium;(null==tl?void 0:tl.icon)||V.A;let tn=e=>{switch(e){case 6:return{type:"compile",label:"Compile Error"};case 11:return{type:"runtime",label:"Runtime Error"};case 5:return{type:"timeout",label:"Time Limit Exceeded"};case 4:default:return{type:"wrong",label:"Wrong Answer"};case 12:return{type:"memory",label:"Memory Limit Exceeded"};case 13:return{type:"system",label:"System Error"}}},ti=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=(0,j.T)(e);return(0,r.jsxs)(v.eu,{className:"w-10 h-10 border-2",style:{borderColor:t?"#ef4444":"#2599D4"},children:[s?(0,r.jsx)(v.BK,{src:s,alt:"Profile"}):null,(0,r.jsx)(v.q5,{className:"bg-gray-200 text-gray-600 font-semibold",children:t?"O":"Y"})]})};if(eC||!ew||!ev||!eW.name)return(0,r.jsxs)("div",{className:"w-screen h-screen flex items-center justify-center bg-blue-50 relative overflow-hidden",children:[(0,r.jsxs)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[(0,r.jsx)("div",{className:"absolute left-0 top-0 h-[500px] w-[500px] bg-blue-400/8 rounded-full filter blur-3xl"}),(0,r.jsx)("div",{className:"absolute right-0 bottom-0 h-[500px] w-[500px] bg-cyan-400/6 rounded-full filter blur-3xl"})]}),(0,r.jsx)("div",{className:"text-black text-2xl relative z-10",children:"Loading match..."})]});let to=e=>e.substring(0,2).toUpperCase();return(0,r.jsxs)("div",{className:"w-screen h-screen flex flex-col bg-blue-50 relative overflow-hidden",children:[(0,r.jsxs)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[(0,r.jsx)("div",{className:"absolute left-0 top-0 h-[500px] w-[500px] bg-blue-400/8 rounded-full filter blur-3xl"}),(0,r.jsx)("div",{className:"absolute right-0 bottom-0 h-[500px] w-[500px] bg-cyan-400/6 rounded-full filter blur-3xl"}),(0,r.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 h-[600px] w-[600px] bg-blue-500/6 rounded-full filter blur-3xl"})]}),(0,r.jsxs)("div",{className:"flex flex-col flex-1 transition-all duration-300 min-h-0 ".concat(F||eX?"blur-sm":""),children:[(0,r.jsxs)("div",{className:"h-16 flex items-center justify-between px-8 bg-white/90 border-b border-blue-200 z-20 flex-shrink-0",children:[(0,r.jsxs)("div",{className:"flex items-center gap-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"relative",children:ti(C,!1)}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm font-semibold text-black",children:k}),(0,r.jsxs)("div",{className:"text-xs text-black/70",children:["Rating: ",eO.rating]})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4 pl-4 border-l border-blue-200",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,r.jsx)(I.A,{className:"w-4 h-4 text-yellow-600"}),(0,r.jsxs)("span",{className:"text-xs text-black/70",children:["Win Rate: ",eO.winRate,"%"]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,r.jsx)(M.A,{className:"w-4 h-4",style:{color:"#2599D4"}}),(0,r.jsxs)("span",{className:"text-xs text-black/70",children:["Lines: ",U]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,r.jsx)(_.A,{className:"w-4 h-4 text-green-600"}),(0,r.jsxs)("span",{className:"text-xs text-black/70",children:["Solved: ",eq,"/",eJ]})]})]})]}),(0,r.jsx)("div",{className:"text-lg font-bold text-black/50",children:"VS"}),(0,r.jsxs)("div",{className:"flex items-center gap-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4 pr-4 border-r border-blue-200",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,r.jsx)(_.A,{className:"w-4 h-4 text-green-600"}),(0,r.jsxs)("span",{className:"text-xs text-black/70",children:["Solved: ",eU,"/",eJ]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,r.jsx)(M.A,{className:"w-4 h-4",style:{color:"#2599D4"}}),(0,r.jsxs)("span",{className:"text-xs text-black/70",children:["Lines: ",er]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,r.jsx)(I.A,{className:"w-4 h-4 text-yellow-600"}),(0,r.jsxs)("span",{className:"text-xs text-black/70",children:["Win Rate: ",eW.winRate,"%"]})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm font-semibold text-black text-right",children:eW.name}),(0,r.jsxs)("div",{className:"text-xs text-black/70 text-right",children:["Rating: ",eW.rating]})]}),(0,r.jsx)("div",{className:"relative",children:ti(eW.avatar,!0)})]})]})]}),(0,r.jsx)("div",{className:"flex-1 flex flex-row min-h-0",children:(0,r.jsxs)(Y,{direction:"horizontal",className:"flex-1 relative z-10 min-h-0",children:[(0,r.jsx)(J,{defaultSize:45,minSize:35,children:(0,r.jsx)("div",{className:"relative w-full h-full bg-blue-50 z-10",children:ev?(0,r.jsx)("div",{className:"h-full flex flex-col",children:(0,r.jsxs)(q.tU,{value:ep,onValueChange:eg,className:"flex-1 flex flex-col h-full",children:[(0,r.jsxs)(q.j7,{className:"w-full justify-start rounded-none border-b border-blue-200 bg-white/90 p-0 h-12 flex-shrink-0 [&_[data-state=active]]:bg-[#2599D4] [&_[data-state=active]]:text-white [&_[data-state=active]]:border-b-2 [&_[data-state=active]]:border-[#2599D4]",children:[(0,r.jsxs)(q.Xi,{value:"description",className:"rounded-none px-6 h-full text-sm font-medium data-[state=inactive]:text-black/70 data-[state=inactive]:hover:text-black transition-all duration-200 flex items-center gap-2 border-b-2 border-transparent",children:[(0,r.jsx)(G.A,{className:"h-4 w-4"}),"Description"]}),(0,r.jsxs)(q.Xi,{value:"submissions",className:"rounded-none px-6 h-full text-sm font-medium data-[state=inactive]:text-black/70 data-[state=inactive]:hover:text-black transition-all duration-200 flex items-center gap-2 border-b-2 border-transparent",children:[(0,r.jsx)(K.A,{className:"h-4 w-4"}),"Submissions"]})]}),(0,r.jsx)(q.av,{value:"description",className:"flex-1 overflow-hidden m-0 min-h-0",children:(0,r.jsx)(m.F,{className:"h-full w-full",children:(0,r.jsxs)("div",{className:"p-6 space-y-8 bg-white/95 rounded-lg shadow-lg border border-gray-100",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 leading-tight",children:ev.title}),(0,r.jsxs)("div",{className:"flex gap-2 items-center flex-wrap",children:[(0,r.jsx)(D.E,{className:"".concat(tl.bg," ").concat(tl.text," text-xs font-medium px-3 py-1 rounded-full border shadow-sm hover:shadow-md transition-all duration-200 hover:opacity-90"),children:ev.difficulty}),null==(s=ev.topics)?void 0:s.map((e,t)=>(0,r.jsx)(D.E,{className:"bg-gray-600 text-white text-xs font-medium px-3 py-1 rounded-full border border-gray-700 shadow-sm hover:shadow-md hover:bg-gray-700 transition-all duration-200",children:e},t))]})]}),(0,r.jsx)("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-md",children:(0,r.jsx)("div",{className:"w-full",children:(0,r.jsx)("p",{className:"text-gray-700 leading-relaxed whitespace-pre-line text-base text-left",children:ev.description})})}),ev.examples&&ev.examples.length>0&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("div",{className:"border-t border-gray-300 pt-6",children:(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Examples"})}),ev.examples.map((e,t)=>(0,r.jsxs)("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[(0,r.jsxs)("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:["Example ",t+1]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wide mb-2 block",children:"Input"}),(0,r.jsx)("code",{className:"text-sm bg-gray-50 px-4 py-3 rounded-lg font-mono text-gray-800 border block",children:e.input})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wide mb-2 block",children:"Output"}),(0,r.jsx)("code",{className:"text-sm bg-gray-50 px-4 py-3 rounded-lg font-mono text-gray-800 border block",children:e.output})]}),e.explanation&&(0,r.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[(0,r.jsx)("span",{className:"text-sm font-semibold text-blue-800 mb-2 block",children:"Explanation"}),(0,r.jsx)("p",{className:"text-sm text-blue-700 leading-relaxed",children:e.explanation})]})]})]},t))]}),ev.constraints&&ev.constraints.length>0&&(0,r.jsxs)("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Constraints"}),(0,r.jsx)("ul",{className:"space-y-3",children:ev.constraints.map((e,t)=>(0,r.jsxs)("li",{className:"flex items-start gap-3 text-base text-gray-700 leading-relaxed",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),(0,r.jsx)("span",{children:e})]},t))})]})]})})}),(0,r.jsx)(q.av,{value:"submissions",className:"flex-1 overflow-hidden m-0 min-h-0",children:(0,r.jsx)(m.F,{className:"h-full w-full",children:(0,r.jsxs)("div",{className:"p-6 space-y-4",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-black mb-4",children:"Submissions"}),0===ef.length?(0,r.jsx)("div",{className:"text-center py-12",children:(0,r.jsx)("p",{className:"text-gray-500",children:"No submissions yet. Submit your code to see results here."})}):ef.map(e=>(0,r.jsx)("div",{className:"bg-white/90 cursor-pointer hover:bg-white transition-colors rounded-lg p-4",onClick:()=>ec(e),children:(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"w-20 flex-shrink-0",children:(0,r.jsx)("span",{className:"inline-flex px-2 py-1 rounded text-xs font-semibold ".concat("Accepted"===e.status?"bg-green-100 text-green-600":"compile"===e.errorType?"bg-orange-100 text-orange-600":"runtime"===e.errorType?"bg-purple-100 text-purple-600":"timeout"===e.errorType?"bg-yellow-100 text-yellow-600":"memory"===e.errorType?"bg-indigo-100 text-indigo-600":"system"===e.errorType?"bg-gray-100 text-gray-600":"complexity"===e.errorType?"bg-rose-100 text-rose-600":"bg-red-100 text-red-600"),children:"wrong"===e.errorType?"WA":"compile"===e.errorType?"CE":"runtime"===e.errorType?"RE":"timeout"===e.errorType?"TLE":"memory"===e.errorType?"MLE":"system"===e.errorType?"SE":"complexity"===e.errorType?"TCF":e.status})}),(0,r.jsx)("div",{className:"w-20 flex-shrink-0",children:(0,r.jsx)("span",{className:"text-sm text-black/70",children:e.language})}),(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)("span",{className:"text-sm text-black/70",children:e.time})})]})})},e.id||""))]})})})]})}):(0,r.jsx)("div",{className:"flex items-center justify-center h-full text-black/70",children:"Loading problem..."})})}),(0,r.jsx)($,{className:"w-1 bg-gray-200 hover:bg-gray-300 transition-colors"}),(0,r.jsx)(J,{className:"h-full",defaultSize:55,minSize:35,children:(0,r.jsxs)("div",{className:"h-full flex flex-col bg-white",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between px-4 h-12 bg-white/90 flex-shrink-0",children:[(0,r.jsxs)(X.l6,{value:el,onValueChange:ta,children:[(0,r.jsx)(X.bq,{className:"w-[150px] h-8 text-sm bg-white text-black border-blue-200 focus:ring-blue-500 focus:border-blue-500",children:(0,r.jsx)(X.yv,{placeholder:"Select Language"})}),(0,r.jsx)(X.gC,{children:et.map(e=>(0,r.jsx)(X.eb,{value:e.value,children:e.label},e.value))})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[ez.total>0&&(0,r.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1 rounded-lg bg-white/80 border border-blue-200",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1 text-sm font-medium ".concat(ez.passed===ez.total?"text-green-600":"text-orange-600"),children:[(0,r.jsx)(_.A,{className:"h-4 w-4"}),(0,r.jsxs)("span",{children:[ez.passed,"/",ez.total," passed"]})]}),(0,r.jsx)("div",{className:"w-px h-4 bg-blue-200"}),(0,r.jsx)("button",{onClick:()=>eS(!0),className:"text-xs text-blue-600 hover:text-blue-800 underline",children:"View Details"})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(g.$,{size:"sm",className:"h-8 px-4 text-white hover:opacity-90",style:{backgroundColor:"#2599D4"},onClick:()=>E.current?eE?void d.oR.warning("Already running tests..."):eI?void d.oR.warning("Please wait for submission to complete"):void(eA(!0),eL([]),eS(!0),E.current.send("test_submit_code",{userId:w,language:el,source_code:ei})):void d.oR.error("Not connected to match room"),disabled:eE||eI,children:eE?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"h-4 w-4 mr-2 border-2 border-t-white border-white/30 rounded-full animate-spin"}),"Running..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Z.A,{className:"h-4 w-4 mr-2"}),"Run Tests"]})}),(0,r.jsx)(g.$,{size:"sm",className:"h-8 px-4 bg-green-600 text-white hover:bg-green-700",style:{backgroundColor:"#10b981"},onClick:()=>E.current?eI?void d.oR.warning("Already submitting..."):eE?void d.oR.warning("Please wait for test run to complete"):void(eM(!0),E.current.send("submit_code",{userId:w,language:el,source_code:ei})):void d.oR.error("Not connected to match room"),disabled:eI||eE,children:eI?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"h-4 w-4 mr-2 border-2 border-t-white border-white/30 rounded-full animate-spin"}),"Submitting..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Submit"]})})]})]})]}),(0,r.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,r.jsx)(W.Ay,{height:"100%",language:el,value:ei,theme:"vs",onChange:e=>{var t;let s=e||"";eo(s);let r=((null==(t=s.match(/\n/g))?void 0:t.length)||0)+ +!!s;E.current&&(console.log("Sending update_code with lines:",r),E.current.send("update_code",{userId:w,language:el,code:s,lines:r}))},options:{minimap:{enabled:!1},fontSize:14,scrollBeyondLastLine:!1,automaticLayout:!0}})})]})})]})}),(0,r.jsxs)("div",{className:"h-14 flex items-center justify-between px-8 bg-white/90 border-t border-blue-200 z-20 flex-shrink-0",children:[(0,r.jsxs)("div",{className:"flex items-center gap-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(Q.A,{className:"w-4 h-4 text-black/70"}),(0,r.jsxs)("span",{className:"text-sm text-black",children:["Time Remaining: ",(0,r.jsx)(c,{matchStartTime:ew})]})]}),(0,r.jsx)(O,{orientation:"vertical",className:"h-6 bg-blue-200"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(ee.A,{className:"w-4 h-4 text-black/70"}),(0,r.jsxs)("span",{className:"text-sm text-black",children:["Difficulty: ",(null==ev?void 0:ev.difficulty)||"Medium"]})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-sm text-black/70",children:"Match ID:"}),(0,r.jsx)("span",{className:"text-sm font-mono text-black",children:null==ey?void 0:ey.slice(0,8)})]})]})]}),(0,r.jsx)(f,{isVisible:eR,setRunningPage:eS,isLoading:eE,testCaseResults:e_}),ed&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>ec(null),children:(0,r.jsxs)("div",{className:"bg-white w-[900px] h-[80vh] overflow-hidden rounded-lg shadow-xl flex flex-col",onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:"p-6 border-b border-gray-200 flex items-start justify-between flex-shrink-0",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-2 ".concat("Accepted"===ed.status?"text-green-600":"wrong"===ed.errorType?"text-red-600":"compile"===ed.errorType?"text-orange-600":"runtime"===ed.errorType?"text-purple-600":"timeout"===ed.errorType?"text-yellow-600":"memory"===ed.errorType?"text-indigo-600":"system"===ed.errorType?"text-gray-600":"text-black"),children:ed.status}),(0,r.jsxs)("p",{className:"text-gray-600",children:[ed.passedTests,"/",ed.totalTests," testcases passed"]}),(0,r.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Submitted ",ed.date]})]}),(0,r.jsx)(g.$,{variant:"ghost",size:"sm",onClick:()=>ec(null),className:"text-gray-500 hover:text-gray-700",children:(0,r.jsx)(x.A,{className:"h-5 w-5"})})]}),"Accepted"===ed.status&&(0,r.jsx)("div",{className:"p-6 bg-gray-50 border-b border-gray-200 flex-shrink-0",children:(0,r.jsxs)("div",{className:"grid grid-cols-4 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Runtime"}),(0,r.jsx)("div",{className:"text-2xl font-bold text-black",children:"—"===ed.runtime?"0 ms":ed.runtime})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Memory"}),(0,r.jsx)("div",{className:"text-2xl font-bold text-black",children:"—"===ed.memory?"19.12 MB":ed.memory})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Time Complexity"}),(0,r.jsx)("div",{className:"text-2xl font-bold text-black",children:ed.timeComplexity})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Space Complexity"}),(0,r.jsx)("div",{className:"text-2xl font-bold text-black",children:ed.spaceComplexity})]})]})}),(0,r.jsxs)("div",{className:"flex-1 overflow-y-auto min-h-0",children:["compile"===ed.errorType&&ed.compileError&&(0,r.jsxs)("div",{className:"p-6 bg-orange-50 border-b border-orange-200",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-orange-700 mb-4",children:"Compile Error"}),(0,r.jsx)("div",{className:"bg-orange-100 rounded-lg p-4 border border-orange-300",children:(0,r.jsx)("pre",{className:"text-sm text-orange-800 font-mono whitespace-pre-wrap",children:ed.compileError})})]}),"runtime"===ed.errorType&&ed.runtimeError&&(0,r.jsxs)("div",{className:"p-6 bg-purple-50 border-b border-purple-200",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-purple-700 mb-4",children:"Runtime Error"}),(0,r.jsxs)("div",{className:"space-y-4",children:[ed.failedTestCase&&ed.failedTestCase.input&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Input"}),(0,r.jsx)("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:(0,r.jsx)("code",{className:"text-sm text-black font-mono",children:ed.failedTestCase.input})})]}),(0,r.jsx)("div",{children:(0,r.jsx)("div",{className:"bg-purple-100 rounded-lg p-4 border border-purple-300",children:(0,r.jsx)("pre",{className:"text-sm text-purple-800 font-mono whitespace-pre-wrap",children:ed.runtimeError})})})]})]}),"timeout"===ed.errorType&&ed.timeoutError&&(0,r.jsxs)("div",{className:"p-6 bg-yellow-50 border-b border-yellow-200",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-yellow-700 mb-4",children:"Time Limit Exceeded"}),(0,r.jsx)("div",{className:"bg-yellow-100 rounded-lg p-4 border border-yellow-300",children:(0,r.jsx)("p",{className:"text-sm text-yellow-800",children:"Your solution took too long to execute. Try optimizing your algorithm."})})]}),"memory"===ed.errorType&&ed.memoryError&&(0,r.jsxs)("div",{className:"p-6 bg-indigo-50 border-b border-indigo-200",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-indigo-700 mb-4",children:"Memory Limit Exceeded"}),(0,r.jsx)("div",{className:"bg-indigo-100 rounded-lg p-4 border border-indigo-300",children:(0,r.jsx)("p",{className:"text-sm text-indigo-800",children:"Your solution used too much memory. Try optimizing your space usage."})})]}),"system"===ed.errorType&&ed.systemError&&(0,r.jsxs)("div",{className:"p-6 bg-gray-50 border-b border-gray-200",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"System Error"}),(0,r.jsx)("div",{className:"bg-gray-100 rounded-lg p-4 border border-gray-300",children:(0,r.jsx)("pre",{className:"text-sm text-gray-800 font-mono whitespace-pre-wrap",children:ed.systemError})})]}),"complexity"===ed.errorType&&ed.complexityError&&(0,r.jsxs)("div",{className:"p-6 bg-rose-50 border-b border-rose-200",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-rose-700 mb-4",children:"Time Complexity Failed"}),(0,r.jsxs)("div",{className:"bg-rose-100 rounded-lg p-4 border border-rose-300",children:[(0,r.jsx)("p",{className:"text-sm text-rose-800 mb-3",children:ed.complexityError}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-xs font-semibold text-rose-700 mb-1",children:"Expected Complexity:"}),(0,r.jsx)("code",{className:"text-sm text-rose-900 font-mono bg-white px-2 py-1 rounded",children:ed.expectedComplexity||"N/A"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-xs font-semibold text-rose-700 mb-1",children:"Your Complexity:"}),(0,r.jsx)("code",{className:"text-sm text-rose-900 font-mono bg-white px-2 py-1 rounded",children:ed.timeComplexity})]})]})]})]}),"wrong"===ed.errorType&&ed.failedTestCase&&(0,r.jsx)("div",{className:"p-6 bg-red-50 border-b border-red-200",children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Input"}),(0,r.jsx)("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:(0,r.jsx)("code",{className:"text-sm text-black font-mono",children:null==(n=ed.failedTestCase)?void 0:n.input})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Expected Output"}),(0,r.jsx)("div",{className:"bg-green-50 rounded-lg p-3 border border-green-200",children:(0,r.jsx)("code",{className:"text-sm text-green-700 font-mono",children:null==(h=ed.failedTestCase)?void 0:h.expected})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Your Output"}),(0,r.jsx)("div",{className:"bg-red-50 rounded-lg p-3 border border-red-200",children:(0,r.jsx)("code",{className:"text-sm text-red-700 font-mono",children:null==(p=ed.failedTestCase)?void 0:p.actual})})]})]})}),(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-black mb-4",children:["Code | ",ed.language]}),(0,r.jsx)("div",{className:"bg-white rounded-lg overflow-hidden border border-gray-200",children:(0,r.jsx)("div",{style:{position:"relative",pointerEvents:"none"},children:(0,r.jsx)(W.Ay,{height:"300px",language:(null==(b=ed.language)?void 0:b.toLowerCase())||"javascript",value:ed.code||"",theme:"vs",options:{readOnly:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,automaticLayout:!0,cursorBlinking:"solid",cursorStyle:"line",cursorWidth:0,selectOnLineNumbers:!1,selectionHighlight:"off",occurrencesHighlight:"off"}})})})]})]})]})}),F&&(0,r.jsx)(y,{player1:{name:k,username:k,avatar:C||null,initials:to(k)},player2:{name:eW.name,username:eW.name,avatar:eW.avatar||null,initials:to(eW.name)},onAnimationComplete:()=>B(!1)}),eX&&eH&&(0,r.jsx)(T,{player1:{name:k,username:k,avatar:C||null,initials:to(k),isWinner:eH.winner,ratingChange:null==eK?void 0:eK[w]},player2:{name:eW.name,username:eW.name,avatar:eW.avatar||null,initials:to(eW.name),isWinner:!eH.winner&&!eH.draw,ratingChange:eK?eK[Object.keys(eK).find(e=>e!==w)||""]:void 0},onBackToHome:()=>{window.location.href="/play"},onJoinQueue:()=>{window.location.href="/queue"}}),eQ&&R&&(0,r.jsx)(P,{matchResult:eH,testsPassed:eq,totalTests:eJ,opponentName:eW.name,onClose:()=>e0(!1)}),em&&eu&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>ex(!1),children:(0,r.jsxs)("div",{className:"bg-white w-[900px] h-[80vh] overflow-hidden rounded-lg shadow-xl flex flex-col",onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:"p-6 border-b border-gray-200 flex items-start justify-between flex-shrink-0",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-2 ".concat("Accepted"===eu.status?"text-green-600":"wrong"===eu.errorType?"text-red-600":"compile"===eu.errorType?"text-orange-600":"runtime"===eu.errorType?"text-purple-600":"timeout"===eu.errorType?"text-yellow-600":"memory"===eu.errorType?"text-indigo-600":"system"===eu.errorType?"text-gray-600":"text-black"),children:eu.status}),(0,r.jsxs)("p",{className:"text-gray-600",children:[eu.passedTests,"/",eu.totalTests," testcases passed"]}),(0,r.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Submitted ",eu.date]})]}),(0,r.jsx)(g.$,{variant:"ghost",size:"sm",onClick:()=>ex(!1),className:"text-gray-500 hover:text-gray-700",children:(0,r.jsx)(x.A,{className:"h-5 w-5"})})]}),"Accepted"===eu.status&&(0,r.jsx)("div",{className:"p-6 bg-gray-50 border-b border-gray-200 flex-shrink-0",children:(0,r.jsxs)("div",{className:"grid grid-cols-4 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Runtime"}),(0,r.jsx)("div",{className:"text-2xl font-bold text-black",children:"—"===eu.runtime?"0 ms":eu.runtime})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Memory"}),(0,r.jsx)("div",{className:"text-2xl font-bold text-black",children:"—"===eu.memory?"19.12 MB":eu.memory})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Time Complexity"}),(0,r.jsx)("div",{className:"text-2xl font-bold text-black",children:eu.timeComplexity})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Space Complexity"}),(0,r.jsx)("div",{className:"text-2xl font-bold text-black",children:eu.spaceComplexity})]})]})}),(0,r.jsxs)("div",{className:"flex-1 overflow-y-auto min-h-0",children:["compile"===eu.errorType&&eu.compileError&&(0,r.jsxs)("div",{className:"p-6 bg-orange-50 border-b border-orange-200",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-orange-700 mb-4",children:"Compile Error"}),(0,r.jsx)("div",{className:"bg-orange-100 rounded-lg p-4 border border-orange-300",children:(0,r.jsx)("pre",{className:"text-sm text-orange-800 font-mono whitespace-pre-wrap",children:eu.compileError})})]}),"runtime"===eu.errorType&&eu.runtimeError&&(0,r.jsxs)("div",{className:"p-6 bg-purple-50 border-b border-purple-200",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-purple-700 mb-4",children:"Runtime Error"}),(0,r.jsxs)("div",{className:"space-y-4",children:[eu.failedTestCase&&eu.failedTestCase.input&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Input"}),(0,r.jsx)("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:(0,r.jsx)("code",{className:"text-sm text-black font-mono",children:eu.failedTestCase.input})})]}),(0,r.jsx)("div",{children:(0,r.jsx)("div",{className:"bg-purple-100 rounded-lg p-4 border border-purple-300",children:(0,r.jsx)("pre",{className:"text-sm text-purple-800 font-mono whitespace-pre-wrap",children:eu.runtimeError})})})]})]}),"timeout"===eu.errorType&&eu.timeoutError&&(0,r.jsxs)("div",{className:"p-6 bg-yellow-50 border-b border-yellow-200",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-yellow-700 mb-4",children:"Time Limit Exceeded"}),(0,r.jsx)("div",{className:"bg-yellow-100 rounded-lg p-4 border border-yellow-300",children:(0,r.jsx)("p",{className:"text-sm text-yellow-800",children:"Your solution took too long to execute. Try optimizing your algorithm."})})]}),"memory"===eu.errorType&&eu.memoryError&&(0,r.jsxs)("div",{className:"p-6 bg-indigo-50 border-b border-indigo-200",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-indigo-700 mb-4",children:"Memory Limit Exceeded"}),(0,r.jsx)("div",{className:"bg-indigo-100 rounded-lg p-4 border border-indigo-300",children:(0,r.jsx)("p",{className:"text-sm text-indigo-800",children:"Your solution used too much memory. Try optimizing your space usage."})})]}),"system"===eu.errorType&&eu.systemError&&(0,r.jsxs)("div",{className:"p-6 bg-gray-50 border-b border-gray-200",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"System Error"}),(0,r.jsx)("div",{className:"bg-gray-100 rounded-lg p-4 border border-gray-300",children:(0,r.jsx)("pre",{className:"text-sm text-gray-800 font-mono whitespace-pre-wrap",children:eu.systemError})})]}),"complexity"===eu.errorType&&eu.complexityError&&(0,r.jsxs)("div",{className:"p-6 bg-rose-50 border-b border-rose-200",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-rose-700 mb-4",children:"Time Complexity Failed"}),(0,r.jsxs)("div",{className:"bg-rose-100 rounded-lg p-4 border border-rose-300",children:[(0,r.jsx)("p",{className:"text-sm text-rose-800 mb-3",children:eu.complexityError}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-xs font-semibold text-rose-700 mb-1",children:"Expected Complexity:"}),(0,r.jsx)("code",{className:"text-sm text-rose-900 font-mono bg-white px-2 py-1 rounded",children:eu.expectedComplexity||"N/A"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-xs font-semibold text-rose-700 mb-1",children:"Your Complexity:"}),(0,r.jsx)("code",{className:"text-sm text-rose-900 font-mono bg-white px-2 py-1 rounded",children:eu.timeComplexity})]})]})]})]}),"wrong"===eu.errorType&&eu.failedTestCase&&(0,r.jsx)("div",{className:"p-6 bg-red-50 border-b border-red-200",children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Input"}),(0,r.jsx)("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:(0,r.jsx)("code",{className:"text-sm text-black font-mono",children:eu.failedTestCase.input})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Expected Output"}),(0,r.jsx)("div",{className:"bg-green-50 rounded-lg p-3 border border-green-200",children:(0,r.jsx)("code",{className:"text-sm text-green-700 font-mono",children:eu.failedTestCase.expected})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Your Output"}),(0,r.jsx)("div",{className:"bg-red-50 rounded-lg p-3 border border-red-200",children:(0,r.jsx)("code",{className:"text-sm text-red-700 font-mono",children:eu.failedTestCase.actual})})]})]})}),(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-black mb-4",children:["Code | ",eu.language||el]}),(0,r.jsx)("div",{className:"bg-white rounded-lg overflow-hidden border border-gray-200",children:(0,r.jsx)("div",{style:{position:"relative",pointerEvents:"none"},children:(0,r.jsx)(W.Ay,{height:"300px",language:(null==(N=eu.language)?void 0:N.toLowerCase())||el,value:eu.code,theme:"vs",options:{readOnly:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,automaticLayout:!0,cursorBlinking:"solid",cursorStyle:"line",cursorWidth:0,selectOnLineNumbers:!1,selectionHighlight:"off",occurrencesHighlight:"off"}})})})]})]})]})})]})}},59835:(e,t,s)=>{"use strict";s.d(t,{D:()=>a});var r=s(30926);let a=(0,r.createServerReference)("60fe2a76b6aab2b5b0667ba9a2745bd4d3be8e8efc",r.callServer,void 0,r.findSourceMapURL,"registerUser")},62343:(e,t,s)=>{Promise.resolve().then(s.bind(s,53029))},64269:(e,t,s)=>{"use strict";s.d(t,{T:()=>n,cn:()=>l});var r=s(2821),a=s(75889);function l(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.QP)((0,r.$)(t))}function n(e){if(e)return"".concat("http://localhost:9000/codeclashers-avatars/").concat(e)}},65142:(e,t,s)=>{"use strict";s.d(t,{p:()=>n});var r=s(95155),a=s(12115),l=s(64269);let n=a.forwardRef((e,t)=>{let{className:s,type:a,...n}=e;return(0,r.jsx)("input",{type:a,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...n})});n.displayName="Input"},76444:(e,t,s)=>{"use strict";s.d(t,{J:()=>d});var r=s(95155),a=s(12115),l=s(10489),n=s(83101),i=s(64269);let o=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(l.b,{ref:t,className:(0,i.cn)(o(),s),...a})});d.displayName=l.b.displayName},85897:(e,t,s)=>{"use strict";s.d(t,{BK:()=>o,eu:()=>i,q5:()=>d});var r=s(95155),a=s(12115),l=s(46591),n=s(64269);let i=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(l.bL,{ref:t,className:(0,n.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...a})});i.displayName=l.bL.displayName;let o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(l._V,{ref:t,className:(0,n.cn)("aspect-square h-full w-full",s),...a})});o.displayName=l._V.displayName;let d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(l.H4,{ref:t,className:(0,n.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...a})});d.displayName=l.H4.displayName},86948:(e,t,s)=>{"use strict";s.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>o,Zp:()=>n,aR:()=>i,wL:()=>m});var r=s(95155),a=s(12115),l=s(64269);let n=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a})});n.displayName="Card";let i=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",s),...a})});i.displayName="CardHeader";let o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",s),...a})});o.displayName="CardTitle";let d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",s),...a})});d.displayName="CardDescription";let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",s),...a})});c.displayName="CardContent";let m=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",s),...a})});m.displayName="CardFooter"}},e=>{e.O(0,[4022,5635,4744,6068,6888,1597,3162,8441,1255,7358],()=>e(e.s=62343)),_N_E=e.O()}]);