(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1410],{3998:(e,t,a)=>{"use strict";a.d(t,{$:()=>o});var r=a(95155),s=a(12115),l=a(32467),n=a(83101),i=a(64269);let c=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=s.forwardRef((e,t)=>{let{className:a,variant:s,size:n,asChild:o=!1,...d}=e,u=o?l.DX:"button";return(0,r.jsx)(u,{className:(0,i.cn)(c({variant:s,size:n,className:a})),ref:t,...d})});o.displayName="Button"},14806:(e,t,a)=>{"use strict";e.exports=a(30125)},17037:(e,t,a)=>{"use strict";a.d(t,{F:()=>i});var r=a(95155),s=a(12115),l=a(59034),n=a(64269);let i=s.forwardRef((e,t)=>{let{className:a,children:s,...i}=e;return(0,r.jsxs)(l.bL,{className:(0,n.cn)("relative overflow-hidden",a),children:[(0,r.jsx)(l.LM,{ref:t,...i,className:"h-full w-full rounded-[inherit]",children:s}),(0,r.jsx)(c,{}),(0,r.jsx)(l.OK,{})]})});i.displayName=l.bL.displayName;let c=s.forwardRef((e,t)=>{let{className:a,orientation:s="vertical",...i}=e;return(0,r.jsx)(l.VM,{ref:t,orientation:s,className:(0,n.cn)("flex touch-none select-none transition-colors","vertical"===s&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===s&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a),...i,children:(0,r.jsx)(l.lr,{className:"relative flex-1 rounded-full bg-border"})})});c.displayName=l.VM.displayName},19492:(e,t,a)=>{"use strict";a.d(t,{default:()=>g});var r=a(95155),s=a(12115),l=a(17037),n=a(86948),i=a(85897),c=a(3998);let o=(0,a(71847).A)("medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);var d=a(6613),u=a(35299),x=a(90368),f=a(27937),h=a(26497),m=a(1733),p=a(64269),b=a(30926);let v=(0,b.createServerReference)("608b1b68f5219dbb8fadf51ccefe94bf86df73931d",b.callServer,void 0,b.findSourceMapURL,"getLeaderboardData");function y(e){let{data:t,startRank:a}=e;return(0,r.jsx)("div",{className:"relative w-full overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full text-sm text-left text-black",children:[(0,r.jsx)("thead",{className:"text-xs uppercase bg-white/90 text-black/70",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Rank"}),(0,r.jsx)("th",{scope:"col",className:"px-6 py-3",children:"User"}),(0,r.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Rating"}),(0,r.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Wins"}),(0,r.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Losses"})]})}),(0,r.jsx)("tbody",{children:(0,r.jsx)(h.N,{initial:!1,mode:"wait",children:t.map((e,t)=>{var s,l,n;let c=a+t+1;return(0,r.jsxs)(m.P.tr,{className:"bg-white/90 border-b border-blue-200",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:[(0,r.jsxs)("th",{scope:"row",className:"px-6 py-4 font-medium whitespace-nowrap",children:[c<=3?(0,r.jsx)(o,{className:"inline-block mr-2 h-5 w-5 ".concat(1===c?"text-yellow-600":2===c?"text-black/70":"text-amber-600")}):null,c]}),(0,r.jsxs)("td",{className:"px-6 py-4 flex items-center",children:[(0,r.jsxs)(i.eu,{className:"h-8 w-8 mr-2",children:[(0,r.jsx)(i.BK,{src:(0,p.T)(e.avatar),alt:e.username}),(0,r.jsx)(i.q5,{children:(0,r.jsx)("img",{src:"/placeholder_avatar.png",alt:"Profile placeholder",width:40,height:40,className:"w-full h-full object-cover"})})]}),(0,r.jsx)("span",{children:e.username})]}),(0,r.jsx)("td",{className:"px-6 py-4",children:(null==(s=e.rating)?void 0:s.toLocaleString())||"0"}),(0,r.jsx)("td",{className:"px-6 py-4",children:(null==(l=e.stats)?void 0:l.gamesWon)||0}),(0,r.jsx)("td",{className:"px-6 py-4",children:(null==(n=e.stats)?void 0:n.gamesLost)||0})]},e._id)})})})]})})}function g(e){let{}=e,[t,a]=(0,s.useState)(1),[i,o]=(0,s.useState)([]),[h,p]=(0,s.useState)(!0),[b,g]=(0,s.useState)(null),[j,N]=(0,s.useState)(1);(0,s.useEffect)(()=>{w()},[t]);let w=async()=>{p(!0),g(null);try{let e=await v(t,10);o(e.users||[]),N(e.totalPages||1)}catch(e){console.error("Error fetching users:",e),g("Failed to fetch leaderboard data. Please try again later.")}finally{p(!1)}},k=e=>{a(e)};return(0,r.jsxs)("div",{className:"flex-1 bg-blue-50 min-h-screen relative overflow-hidden",children:[(0,r.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,r.jsx)("div",{className:"absolute left-0 top-0 h-[500px] w-[500px] bg-blue-400/8 rounded-full filter blur-3xl"}),(0,r.jsx)("div",{className:"absolute right-0 bottom-0 h-[500px] w-[500px] bg-blue-400/8 rounded-full filter blur-3xl"})]}),(0,r.jsx)(l.F,{className:"h-screen relative z-10",children:(0,r.jsxs)("div",{className:"max-w-[1200px] mx-auto p-4 lg:p-8",children:[(0,r.jsx)(m.P.h1,{className:"text-4xl font-bold mb-2 text-black text-center",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:"LeetBattle Leaderboard"}),(0,r.jsx)(m.P.p,{className:"text-xl text-black/70 text-center mb-8 lg:mb-12",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:"See how you stack up against the competition"}),(0,r.jsx)(m.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:(0,r.jsxs)(n.Zp,{className:"bg-white/90 border-blue-200 backdrop-blur-sm",children:[(0,r.jsx)(n.aR,{children:(0,r.jsxs)(n.ZB,{className:"text-2xl font-semibold text-black flex items-center gap-2",children:[(0,r.jsx)(d.A,{className:"h-6 w-6 text-yellow-600"}),"Top Performers"]})}),(0,r.jsx)(n.Wu,{children:h?(0,r.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,r.jsx)(u.A,{className:"h-8 w-8 animate-spin",style:{color:"#2599D4"}})}):b?(0,r.jsx)("div",{className:"text-center text-red-600",children:b}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(y,{data:i,startRank:(t-1)*10}),(0,r.jsxs)("div",{className:"mt-6 flex justify-between items-center",children:[(0,r.jsxs)(c.$,{onClick:()=>k(t-1),disabled:1===t,className:"  text-white",children:[(0,r.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"Previous"]}),(0,r.jsxs)("span",{className:"text-black/70",children:["Page ",t," of ",j]}),(0,r.jsxs)(c.$,{onClick:()=>k(t+1),disabled:t===j,className:"  text-white",children:["Next",(0,r.jsx)(f.A,{className:"h-4 w-4 ml-2"})]})]})]})})]})})]})})]})}},27937:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},30125:(e,t,a)=>{"use strict";var r=a(12115),s="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},l=r.useState,n=r.useEffect,i=r.useLayoutEffect,c=r.useDebugValue;function o(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!s(e,a)}catch(e){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var a=t(),r=l({inst:{value:a,getSnapshot:t}}),s=r[0].inst,d=r[1];return i(function(){s.value=a,s.getSnapshot=t,o(s)&&d({inst:s})},[e,a,t]),n(function(){return o(s)&&d({inst:s}),e(function(){o(s)&&d({inst:s})})},[e]),c(a),a};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:d},30926:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var a in t)Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}(t,{callServer:function(){return r.callServer},createServerReference:function(){return l.createServerReference},findSourceMapURL:function(){return s.findSourceMapURL}});let r=a(41209),s=a(85153),l=a(77197)},35299:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},46591:(e,t,a)=>{"use strict";a.d(t,{H4:()=>k,_V:()=>w,bL:()=>N});var r=a(12115),s=a(3468),l=a(70222),n=a(4129),i=a(97602),c=a(14806);function o(){return()=>{}}var d=a(95155),u="Avatar",[x,f]=(0,s.A)(u),[h,m]=x(u),p=r.forwardRef((e,t)=>{let{__scopeAvatar:a,...s}=e,[l,n]=r.useState("idle");return(0,d.jsx)(h,{scope:a,imageLoadingStatus:l,onImageLoadingStatusChange:n,children:(0,d.jsx)(i.sG.span,{...s,ref:t})})});p.displayName=u;var b="AvatarImage",v=r.forwardRef((e,t)=>{let{__scopeAvatar:a,src:s,onLoadingStatusChange:u=()=>{},...x}=e,f=m(b,a),h=function(e,t){let{referrerPolicy:a,crossOrigin:s}=t,l=(0,c.useSyncExternalStore)(o,()=>!0,()=>!1),i=r.useRef(null),d=l?(i.current||(i.current=new window.Image),i.current):null,[u,x]=r.useState(()=>j(d,e));return(0,n.N)(()=>{x(j(d,e))},[d,e]),(0,n.N)(()=>{let e=e=>()=>{x(e)};if(!d)return;let t=e("loaded"),r=e("error");return d.addEventListener("load",t),d.addEventListener("error",r),a&&(d.referrerPolicy=a),"string"==typeof s&&(d.crossOrigin=s),()=>{d.removeEventListener("load",t),d.removeEventListener("error",r)}},[d,s,a]),u}(s,x),p=(0,l.c)(e=>{u(e),f.onImageLoadingStatusChange(e)});return(0,n.N)(()=>{"idle"!==h&&p(h)},[h,p]),"loaded"===h?(0,d.jsx)(i.sG.img,{...x,ref:t,src:s}):null});v.displayName=b;var y="AvatarFallback",g=r.forwardRef((e,t)=>{let{__scopeAvatar:a,delayMs:s,...l}=e,n=m(y,a),[c,o]=r.useState(void 0===s);return r.useEffect(()=>{if(void 0!==s){let e=window.setTimeout(()=>o(!0),s);return()=>window.clearTimeout(e)}},[s]),c&&"loaded"!==n.imageLoadingStatus?(0,d.jsx)(i.sG.span,{...l,ref:t}):null});function j(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}g.displayName=y;var N=p,w=v,k=g},60711:(e,t,a)=>{Promise.resolve().then(a.bind(a,93080)),Promise.resolve().then(a.bind(a,19492))},64269:(e,t,a)=>{"use strict";a.d(t,{T:()=>n,cn:()=>l});var r=a(2821),s=a(75889);function l(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,r.$)(t))}function n(e){if(e)return"".concat("http://localhost:9000/codeclashers-avatars/").concat(e)}},85897:(e,t,a)=>{"use strict";a.d(t,{BK:()=>c,eu:()=>i,q5:()=>o});var r=a(95155),s=a(12115),l=a(46591),n=a(64269);let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.bL,{ref:t,className:(0,n.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...s})});i.displayName=l.bL.displayName;let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l._V,{ref:t,className:(0,n.cn)("aspect-square h-full w-full",a),...s})});c.displayName=l._V.displayName;let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.H4,{ref:t,className:(0,n.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...s})});o.displayName=l.H4.displayName},86948:(e,t,a)=>{"use strict";a.d(t,{BT:()=>o,Wu:()=>d,ZB:()=>c,Zp:()=>n,aR:()=>i,wL:()=>u});var r=a(95155),s=a(12115),l=a(64269);let n=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...s})});n.displayName="Card";let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",a),...s})});i.displayName="CardHeader";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",a),...s})});c.displayName="CardTitle";let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",a),...s})});o.displayName="CardDescription";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",a),...s})});d.displayName="CardContent";let u=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",a),...s})});u.displayName="CardFooter"},93080:(e,t,a)=>{"use strict";a.d(t,{default:()=>N});var r=a(95155),s=a(20063),l=a(12115),n=a(65993),i=a(85921),c=a(54485),o=a(6613),d=a(15870),u=a(90368),x=a(9540),f=a(84926),h=a(17037),m=a(3998),p=a(52619),b=a.n(p),v=a(1733),y=a(26497);let g=[{to:"/",icon:n.A,label:"Home"},{to:"/play",icon:i.A,label:"Play"},{to:"/match-history",icon:c.A,label:"History"},{to:"/leaderboard",icon:o.A,label:"Leaderboard"},{to:"/settings",icon:d.A,label:"Settings"}];function j(e){let{session:t,logoutAction:a}=e;(0,s.useRouter)(),(0,s.usePathname)();let[n,i]=l.useState(!0),c=()=>{i(!n)};return(0,r.jsxs)(v.P.aside,{className:"bg-gradient-to-b from-blue-50 to-blue-100 text-black flex flex-col h-screen border-r border-blue-200",initial:{width:"20rem"},animate:{width:n?"20rem":"6rem"},transition:{duration:.3},children:[(0,r.jsxs)("div",{className:"p-6 flex items-center justify-center border-b border-blue-200 relative bg-white/50",children:[(0,r.jsx)(y.N,{children:n?(0,r.jsxs)(v.P.div,{className:"flex items-center gap-2 justify-center w-full",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.3},children:[(0,r.jsx)("img",{src:"/logo.png",alt:"LeetBattle Logo",width:32,height:32,className:"h-8 w-8"}),(0,r.jsx)("span",{className:"text-xl font-semibold font-mono",style:{color:"#2599D4"},children:"LeetBattle"})]}):(0,r.jsx)(v.P.div,{className:"w-full h-full flex items-center justify-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,r.jsx)("img",{src:"/logo.png",alt:"LeetBattle Logo",width:32,height:32,className:"h-8 w-8"})})}),n&&(0,r.jsx)(m.$,{variant:"ghost",size:"icon",onClick:c,className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-black/60 hover:text-black hover:bg-blue-100/50",children:(0,r.jsx)(u.A,{className:"w-8 h-8"})}),!n&&(0,r.jsx)(m.$,{variant:"ghost",size:"icon",onClick:c,className:"absolute inset-0 w-full h-full flex items-center justify-center text-black/60 hover:text-black hover:bg-blue-100/50",children:(0,r.jsx)(x.A,{className:"w-8 h-8 stroke-2"})})]}),(0,r.jsx)(h.F,{className:"flex-1 bg-gradient-to-b from-white/30 to-blue-50/30",children:(0,r.jsx)("nav",{className:"py-6",children:g.map(e=>(0,r.jsxs)(b(),{href:e.to,className:"flex items-center px-4 py-4 mb-3 mx-2 rounded-lg transition-colors text-black/70 hover:text-black hover:bg-white/50",children:[(0,r.jsx)(e.icon,{className:"w-8 h-8 flex-shrink-0"}),(0,r.jsx)(y.N,{children:n&&(0,r.jsx)(v.P.span,{className:"ml-4 text-xl",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},transition:{duration:.2},children:e.label})})]},e.to))})}),(0,r.jsx)("div",{className:"p-4 border-t border-blue-200 bg-white/50",children:(0,r.jsx)("form",{action:a,children:(0,r.jsxs)(m.$,{type:"submit",variant:"ghost",className:"w-full justify-start text-red-600 hover:text-red-700 hover:bg-red-50 py-4",children:[(0,r.jsx)(f.A,{className:"w-8 h-8 flex-shrink-0"}),(0,r.jsx)(y.N,{children:n&&(0,r.jsx)(v.P.span,{className:"ml-4 text-xl",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},transition:{duration:.2},children:"Logout"})})]})})})]})}function N(e){let{session:t,showNavbar:a,logoutAction:n,children:i}=e,c=(0,s.useRouter)();return((0,l.useEffect)(()=>{t||c.push("/landing")},[t,c]),t)?(0,r.jsxs)("div",{className:"flex h-screen",children:[a&&(0,r.jsx)(j,{session:t,logoutAction:n}),(0,r.jsx)("main",{className:"flex-1 overflow-y-auto",children:i})]}):null}}},e=>{e.O(0,[4022,1733,5635,7597,8441,1255,7358],()=>e(e.s=60711)),_N_E=e.O()}]);