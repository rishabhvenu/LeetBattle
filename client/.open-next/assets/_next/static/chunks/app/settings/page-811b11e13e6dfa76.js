(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4662],{3998:(e,r,t)=>{"use strict";t.d(r,{$:()=>c});var a=t(95155),s=t(12115),l=t(32467),i=t(83101),n=t(64269);let o=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,r)=>{let{className:t,variant:s,size:i,asChild:c=!1,...d}=e,u=c?l.DX:"button";return(0,a.jsx)(u,{className:(0,n.cn)(o({variant:s,size:i,className:t})),ref:r,...d})});c.displayName="Button"},14806:(e,r,t)=>{"use strict";e.exports=t(30125)},17037:(e,r,t)=>{"use strict";t.d(r,{F:()=>n});var a=t(95155),s=t(12115),l=t(59034),i=t(64269);let n=s.forwardRef((e,r)=>{let{className:t,children:s,...n}=e;return(0,a.jsxs)(l.bL,{className:(0,i.cn)("relative overflow-hidden",t),children:[(0,a.jsx)(l.LM,{ref:r,...n,className:"h-full w-full rounded-[inherit]",children:s}),(0,a.jsx)(o,{}),(0,a.jsx)(l.OK,{})]})});n.displayName=l.bL.displayName;let o=s.forwardRef((e,r)=>{let{className:t,orientation:s="vertical",...n}=e;return(0,a.jsx)(l.VM,{ref:r,orientation:s,className:(0,i.cn)("flex touch-none select-none transition-colors","vertical"===s&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===s&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:(0,a.jsx)(l.lr,{className:"relative flex-1 rounded-full bg-border"})})});o.displayName=l.VM.displayName},20508:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(71847).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},23664:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(71847).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},30125:(e,r,t)=>{"use strict";var a=t(12115),s="function"==typeof Object.is?Object.is:function(e,r){return e===r&&(0!==e||1/e==1/r)||e!=e&&r!=r},l=a.useState,i=a.useEffect,n=a.useLayoutEffect,o=a.useDebugValue;function c(e){var r=e.getSnapshot;e=e.value;try{var t=r();return!s(e,t)}catch(e){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,r){return r()}:function(e,r){var t=r(),a=l({inst:{value:t,getSnapshot:r}}),s=a[0].inst,d=a[1];return n(function(){s.value=t,s.getSnapshot=r,c(s)&&d({inst:s})},[e,t,r]),i(function(){return c(s)&&d({inst:s}),e(function(){c(s)&&d({inst:s})})},[e]),o(t),t};r.useSyncExternalStore=void 0!==a.useSyncExternalStore?a.useSyncExternalStore:d},30926:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{callServer:function(){return a.callServer},createServerReference:function(){return l.createServerReference},findSourceMapURL:function(){return s.findSourceMapURL}});let a=t(41209),s=t(85153),l=t(77197)},46591:(e,r,t)=>{"use strict";t.d(r,{H4:()=>k,_V:()=>N,bL:()=>j});var a=t(12115),s=t(3468),l=t(70222),i=t(4129),n=t(97602),o=t(14806);function c(){return()=>{}}var d=t(95155),u="Avatar",[m,f]=(0,s.A)(u),[h,x]=m(u),b=a.forwardRef((e,r)=>{let{__scopeAvatar:t,...s}=e,[l,i]=a.useState("idle");return(0,d.jsx)(h,{scope:t,imageLoadingStatus:l,onImageLoadingStatusChange:i,children:(0,d.jsx)(n.sG.span,{...s,ref:r})})});b.displayName=u;var p="AvatarImage",v=a.forwardRef((e,r)=>{let{__scopeAvatar:t,src:s,onLoadingStatusChange:u=()=>{},...m}=e,f=x(p,t),h=function(e,r){let{referrerPolicy:t,crossOrigin:s}=r,l=(0,o.useSyncExternalStore)(c,()=>!0,()=>!1),n=a.useRef(null),d=l?(n.current||(n.current=new window.Image),n.current):null,[u,m]=a.useState(()=>y(d,e));return(0,i.N)(()=>{m(y(d,e))},[d,e]),(0,i.N)(()=>{let e=e=>()=>{m(e)};if(!d)return;let r=e("loaded"),a=e("error");return d.addEventListener("load",r),d.addEventListener("error",a),t&&(d.referrerPolicy=t),"string"==typeof s&&(d.crossOrigin=s),()=>{d.removeEventListener("load",r),d.removeEventListener("error",a)}},[d,s,t]),u}(s,m),b=(0,l.c)(e=>{u(e),f.onImageLoadingStatusChange(e)});return(0,i.N)(()=>{"idle"!==h&&b(h)},[h,b]),"loaded"===h?(0,d.jsx)(n.sG.img,{...m,ref:r,src:s}):null});v.displayName=p;var g="AvatarFallback",w=a.forwardRef((e,r)=>{let{__scopeAvatar:t,delayMs:s,...l}=e,i=x(g,t),[o,c]=a.useState(void 0===s);return a.useEffect(()=>{if(void 0!==s){let e=window.setTimeout(()=>c(!0),s);return()=>window.clearTimeout(e)}},[s]),o&&"loaded"!==i.imageLoadingStatus?(0,d.jsx)(n.sG.span,{...l,ref:r}):null});function y(e,r){return e?r?(e.src!==r&&(e.src=r),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}w.displayName=g;var j=b,N=v,k=w},57828:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(71847).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},62187:(e,r,t)=>{Promise.resolve().then(t.bind(t,93080)),Promise.resolve().then(t.bind(t,85405))},64269:(e,r,t)=>{"use strict";t.d(r,{T:()=>i,cn:()=>l});var a=t(2821),s=t(75889);function l(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,s.QP)((0,a.$)(r))}function i(e){if(e)return"".concat("http://localhost:9000/codeclashers-avatars/").concat(e)}},65142:(e,r,t)=>{"use strict";t.d(r,{p:()=>i});var a=t(95155),s=t(12115),l=t(64269);let i=s.forwardRef((e,r)=>{let{className:t,type:s,...i}=e;return(0,a.jsx)("input",{type:s,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...i})});i.displayName="Input"},70532:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(71847).A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},85405:(e,r,t)=>{"use strict";t.d(r,{default:()=>k});var a=t(95155),s=t(12115),l=t(3998),i=t(65142),n=t(17037),o=t(85897),c=t(20508),d=t(71847);let u=(0,d.A)("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);var m=t(23664);let f=(0,d.A)("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);var h=t(70532),x=t(57828),b=t(1733),p=t(74744),v=t(30926);let g=(0,v.createServerReference)("60d85f7451542b61f3142e6f19965f52cd705012b1",v.callServer,void 0,v.findSourceMapURL,"generatePresignedUploadUrl"),w=(0,v.createServerReference)("407a1e8b3d90b2f4910340676401e52c26f03a71f8",v.callServer,void 0,v.findSourceMapURL,"saveUserAvatar"),y=(0,v.createServerReference)("601e13041263a5a36b0491fb3cf4ecbddcbace9a6f",v.callServer,void 0,v.findSourceMapURL,"changePassword");var j=t(20063),N=t(64269);function k(e){let{session:r,restHandler:t}=e,d=(0,j.useRouter)(),[v,k]=(0,s.useState)(null),[P,S]=(0,s.useState)(null),[R,L]=(0,s.useState)(null),[A,C]=(0,s.useState)(!1),U=(0,s.useRef)(null),[E,_]=(0,s.useState)({currentPassword:!1,newPassword:!1,confirmPassword:!1}),[M,z]=(0,s.useState)({username:(null==r?void 0:r.username)||"User",email:(null==r?void 0:r.email)||"user@example.com",currentPassword:"",newPassword:"",confirmPassword:""}),F=e=>{let{name:r,value:t}=e.target;z(e=>({...e,[r]:t}))},O=async e=>{if(e.preventDefault(),A&&R)try{var t;let e=R.type,a=(null==(t=R.name.split(".").pop())?void 0:t.toLowerCase())||"png",s="".concat(r._id,".").concat(a),l=await g(s,e);if(!l.success)throw Error(l.error);let i=new File([R],s,{type:e}),n=await fetch(l.presignedUrl,{method:"PUT",body:i,headers:{"Content-Type":e}});if(!n.ok){let e=await n.text();throw console.error("Upload failed with status:",n.status,"Response:",e),Error("Failed to upload image: ".concat(n.status," ").concat(n.statusText))}k(s);let o=await w(s);o.success||console.warn("Avatar uploaded but not persisted to session:",o.error),P&&URL.revokeObjectURL(P),S(null),L(null),C(!1),p.oR.success("Profile picture updated successfully!"),d.refresh()}catch(e){console.error("Error uploading image:",e),p.oR.error("Failed to upload image. Please try again.");return}if(""!==M.newPassword.trim()){if(M.newPassword!==M.confirmPassword)return void p.oR.error("New password and confirm password do not match");try{let e=await y(M.currentPassword,M.newPassword);e.success?(p.oR.success("Password updated successfully!"),z(e=>({...e,currentPassword:"",newPassword:"",confirmPassword:""}))):p.oR.error(e.error||"Failed to update password")}catch(e){console.error("Password change error:",e),p.oR.error("An error occurred while changing password")}}else A||p.oR.info("No changes to save.")};(0,s.useEffect)(()=>(z({username:(null==r?void 0:r.username)||"User",email:(null==r?void 0:r.email)||"user@example.com",currentPassword:"",newPassword:"",confirmPassword:""}),k(null==r?void 0:r.avatar),()=>{P&&URL.revokeObjectURL(P)}),[r]);let D=e=>{var r;e.preventDefault(),null==(r=U.current)||r.click()},$=async e=>{var r,t;let a=null==(r=e.target.files)?void 0:r[0];if(!a)return;if(!(null==(t=a.name.split(".").pop())?void 0:t.toLowerCase()))return void p.oR.error("Invalid file type. Please select a valid image file.");let s=URL.createObjectURL(a);P&&URL.revokeObjectURL(P),S(s),L(a),C(!0)},H={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return(0,a.jsxs)("div",{className:"min-h-screen bg-blue-50 text-black relative overflow-hidden",children:[(0,a.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute left-0 top-0 h-[500px] w-[500px] bg-blue-400/8 rounded-full filter blur-3xl"}),(0,a.jsx)("div",{className:"absolute right-0 bottom-0 h-[500px] w-[500px] bg-blue-400/8 rounded-full filter blur-3xl"})]}),(0,a.jsxs)(n.F,{className:"h-screen relative z-10",children:[(0,a.jsxs)(b.P.div,{className:"max-w-4xl mx-auto p-8",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},initial:"hidden",animate:"visible",children:[(0,a.jsx)(b.P.h1,{className:"text-4xl font-bold mb-8 text-white",variants:H,children:"Settings"}),(0,a.jsxs)("form",{onSubmit:O,className:"space-y-8",children:[(0,a.jsxs)(b.P.div,{className:"bg-white/90 backdrop-blur-sm border border-blue-200 rounded-lg p-6",variants:H,children:[(0,a.jsxs)("h2",{className:"text-2xl font-semibold mb-4 flex items-center gap-2",children:[(0,a.jsx)(c.A,{className:"h-6 w-6",style:{color:"#2599D4"}}),"Profile Information"]}),(0,a.jsxs)("div",{className:"flex items-center gap-6 mb-6",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)(o.eu,{className:"w-24 h-24 border-4 border-blue-200",children:[(0,a.jsx)(o.BK,{src:P||(0,N.T)(v),alt:"Profile picture"}),(0,a.jsx)(o.q5,{children:(0,a.jsx)("img",{src:"/placeholder_avatar.png",alt:"Profile placeholder",width:96,height:96,className:"w-full h-full object-cover"})})]}),(0,a.jsxs)(l.$,{variant:"secondary",size:"icon",className:"absolute bottom-0 right-0 rounded-full text-white shadow-lg",onClick:e=>D(e),style:{backgroundColor:"#2599D4"},children:[(0,a.jsx)(u,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Change Avatar"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Profile Picture"}),(0,a.jsxs)(l.$,{variant:"outline",size:"sm",className:"bg-white text-black border-blue-200 hover:bg-slate-600 hover:text-white transition-colors",onClick:e=>D(e),children:[(0,a.jsx)(u,{className:"h-4 w-4 mr-2"}),"Change Avatar"]})]})]}),(0,a.jsxs)("div",{className:"grid gap-6 grid-cols-1 md:grid-cols-2",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{htmlFor:"username",className:"text-sm font-medium text-black",children:"Username"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(c.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-black/70"}),(0,a.jsx)(i.p,{id:"username",name:"username",value:M.username,disabled:!0,className:"bg-white border-blue-200 text-black placeholder:text-black/70 pl-10 cursor-not-allowed opacity-60"})]}),(0,a.jsx)("p",{className:"text-sm text-black/70",children:"This is your public display name."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{htmlFor:"email",className:"text-sm font-medium text-black",children:"Email"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(m.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-black/70"}),(0,a.jsx)(i.p,{id:"email",name:"email",type:"email",value:M.email,disabled:!0,className:"bg-white border-blue-200 text-black placeholder:text-black/70 pl-10 cursor-not-allowed opacity-60"})]}),(0,a.jsx)("p",{className:"text-sm text-black/70",children:"Your email address for notifications."})]})]})]}),(0,a.jsxs)(b.P.div,{className:"bg-white/90 backdrop-blur-sm border border-blue-200 rounded-lg p-6",variants:H,children:[(0,a.jsxs)("h2",{className:"text-2xl font-semibold mb-4 flex items-center gap-2",children:[(0,a.jsx)(f,{className:"h-6 w-6",style:{color:"#2599D4"}}),"Change Password"]}),(0,a.jsx)("div",{className:"space-y-4",children:["currentPassword","newPassword","confirmPassword"].map(e=>(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{htmlFor:e,className:"text-sm font-medium text-black",children:"currentPassword"===e?"Current Password":"newPassword"===e?"New Password":"Confirm New Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(i.p,{id:e,name:e,type:E[e]?"text":"password",value:M[e],onChange:F,className:"bg-white border-blue-200 text-black pr-10"}),(0,a.jsx)("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 focus:outline-none",onClick:()=>{_(r=>({...r,[e]:!r[e]}))},children:E[e]?(0,a.jsx)(h.A,{className:"h-4 w-4"}):(0,a.jsx)(x.A,{className:"h-4 w-4"})})]})]},e))})]}),(0,a.jsxs)(b.P.div,{className:"flex justify-end gap-4",variants:H,children:[(0,a.jsx)(l.$,{type:"button",variant:"outline",className:"bg-white text-black border-blue-200 hover:bg-white",children:"Cancel"}),(0,a.jsx)(l.$,{type:"submit",className:"text-white",style:{backgroundColor:"#2599D4"},children:"Save Changes"})]})]})]}),(0,a.jsx)("input",{type:"file",ref:U,className:"hidden",accept:".jpg,.jpeg,.png,.svg,.webp",onChange:$})]})]})}},85897:(e,r,t)=>{"use strict";t.d(r,{BK:()=>o,eu:()=>n,q5:()=>c});var a=t(95155),s=t(12115),l=t(46591),i=t(64269);let n=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(l.bL,{ref:r,className:(0,i.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...s})});n.displayName=l.bL.displayName;let o=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(l._V,{ref:r,className:(0,i.cn)("aspect-square h-full w-full",t),...s})});o.displayName=l._V.displayName;let c=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(l.H4,{ref:r,className:(0,i.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...s})});c.displayName=l.H4.displayName},93080:(e,r,t)=>{"use strict";t.d(r,{default:()=>j});var a=t(95155),s=t(20063),l=t(12115),i=t(65993),n=t(85921),o=t(54485),c=t(6613),d=t(15870),u=t(90368),m=t(9540),f=t(84926),h=t(17037),x=t(3998),b=t(52619),p=t.n(b),v=t(1733),g=t(26497);let w=[{to:"/",icon:i.A,label:"Home"},{to:"/play",icon:n.A,label:"Play"},{to:"/match-history",icon:o.A,label:"History"},{to:"/leaderboard",icon:c.A,label:"Leaderboard"},{to:"/settings",icon:d.A,label:"Settings"}];function y(e){let{session:r,logoutAction:t}=e;(0,s.useRouter)(),(0,s.usePathname)();let[i,n]=l.useState(!0),o=()=>{n(!i)};return(0,a.jsxs)(v.P.aside,{className:"bg-gradient-to-b from-blue-50 to-blue-100 text-black flex flex-col h-screen border-r border-blue-200",initial:{width:"20rem"},animate:{width:i?"20rem":"6rem"},transition:{duration:.3},children:[(0,a.jsxs)("div",{className:"p-6 flex items-center justify-center border-b border-blue-200 relative bg-white/50",children:[(0,a.jsx)(g.N,{children:i?(0,a.jsxs)(v.P.div,{className:"flex items-center gap-2 justify-center w-full",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.3},children:[(0,a.jsx)("img",{src:"/logo.png",alt:"LeetBattle Logo",width:32,height:32,className:"h-8 w-8"}),(0,a.jsx)("span",{className:"text-xl font-semibold font-mono",style:{color:"#2599D4"},children:"LeetBattle"})]}):(0,a.jsx)(v.P.div,{className:"w-full h-full flex items-center justify-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,a.jsx)("img",{src:"/logo.png",alt:"LeetBattle Logo",width:32,height:32,className:"h-8 w-8"})})}),i&&(0,a.jsx)(x.$,{variant:"ghost",size:"icon",onClick:o,className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-black/60 hover:text-black hover:bg-blue-100/50",children:(0,a.jsx)(u.A,{className:"w-8 h-8"})}),!i&&(0,a.jsx)(x.$,{variant:"ghost",size:"icon",onClick:o,className:"absolute inset-0 w-full h-full flex items-center justify-center text-black/60 hover:text-black hover:bg-blue-100/50",children:(0,a.jsx)(m.A,{className:"w-8 h-8 stroke-2"})})]}),(0,a.jsx)(h.F,{className:"flex-1 bg-gradient-to-b from-white/30 to-blue-50/30",children:(0,a.jsx)("nav",{className:"py-6",children:w.map(e=>(0,a.jsxs)(p(),{href:e.to,className:"flex items-center px-4 py-4 mb-3 mx-2 rounded-lg transition-colors text-black/70 hover:text-black hover:bg-white/50",children:[(0,a.jsx)(e.icon,{className:"w-8 h-8 flex-shrink-0"}),(0,a.jsx)(g.N,{children:i&&(0,a.jsx)(v.P.span,{className:"ml-4 text-xl",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},transition:{duration:.2},children:e.label})})]},e.to))})}),(0,a.jsx)("div",{className:"p-4 border-t border-blue-200 bg-white/50",children:(0,a.jsx)("form",{action:t,children:(0,a.jsxs)(x.$,{type:"submit",variant:"ghost",className:"w-full justify-start text-red-600 hover:text-red-700 hover:bg-red-50 py-4",children:[(0,a.jsx)(f.A,{className:"w-8 h-8 flex-shrink-0"}),(0,a.jsx)(g.N,{children:i&&(0,a.jsx)(v.P.span,{className:"ml-4 text-xl",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},transition:{duration:.2},children:"Logout"})})]})})})]})}function j(e){let{session:r,showNavbar:t,logoutAction:i,children:n}=e,o=(0,s.useRouter)();return((0,l.useEffect)(()=>{r||o.push("/landing")},[r,o]),r)?(0,a.jsxs)("div",{className:"flex h-screen",children:[t&&(0,a.jsx)(y,{session:r,logoutAction:i}),(0,a.jsx)("main",{className:"flex-1 overflow-y-auto",children:n})]}):null}}},e=>{e.O(0,[4022,1733,5635,7597,4744,8441,1255,7358],()=>e(e.s=62187)),_N_E=e.O()}]);