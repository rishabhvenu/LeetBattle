# Secret Templates - DO NOT COMMIT ACTUAL SECRETS
# These templates use ${VAR} placeholders that will be substituted by envsubst
# Values come from GitHub Secrets/Variables
# Apply these secrets using the sync-secrets.yml workflow

---
apiVersion: v1
kind: Secret
metadata:
  name: app-secrets
  namespace: codeclashers
type: Opaque
stringData:
  REDIS_PASSWORD: "${REDIS_PASSWORD}"
  REDIS_USERNAME: "${REDIS_USERNAME:-}"
  REDIS_HOST: "${REDIS_HOST:-redis-cluster}"
  REDIS_PORT: "${REDIS_PORT:-6379}"
  JUDGE0_PORT: "${JUDGE0_PORT:-2358}"
  MONGODB_PORT: "${MONGODB_PORT:-27017}"
  COLYSEUS_PORT: "${COLYSEUS_PORT:-2567}"
  JUDGE0_POSTGRES_USER: "${JUDGE0_POSTGRES_USER}"
  JUDGE0_POSTGRES_PASSWORD: "${JUDGE0_POSTGRES_PASSWORD}"
  JUDGE0_POSTGRES_DB: "${JUDGE0_POSTGRES_DB:-judge0}"
  MONGODB_USERNAME: "${MONGODB_USERNAME}"
  MONGODB_PASSWORD: "${MONGODB_PASSWORD}"
  MONGODB_URI_INTERNAL: "${MONGODB_URI_INTERNAL}"
  MONGODB_URI: "${MONGODB_URI}"
  OPENAI_API_KEY: "${OPENAI_API_KEY}"
  INTERNAL_SERVICE_SECRET: "${INTERNAL_SERVICE_SECRET}"
  BOT_SERVICE_SECRET: "${BOT_SERVICE_SECRET}"
  COLYSEUS_RESERVATION_SECRET: "${COLYSEUS_RESERVATION_SECRET}"
  AWS_ACCESS_KEY_ID: "${AWS_ACCESS_KEY_ID}"
  AWS_SECRET_ACCESS_KEY: "${AWS_SECRET_ACCESS_KEY}"
  S3_BUCKET_NAME: "${S3_BUCKET_NAME}"
  AWS_REGION: "${AWS_REGION:-us-east-1}"
  GRAFANA_ADMIN_USER: "${GRAFANA_ADMIN_USER:-admin}"
  GRAFANA_ADMIN_PASSWORD: "${GRAFANA_ADMIN_PASSWORD}"

---
apiVersion: v1
kind: Secret
metadata:
  name: mongodb-secrets
  namespace: codeclashers
type: Opaque
stringData:
  MONGO_INITDB_ROOT_USERNAME: "${MONGODB_USERNAME}"
  MONGO_INITDB_ROOT_PASSWORD: "${MONGODB_PASSWORD}"
  REPLICA_SET_NAME: "${REPLICA_SET_NAME:-rs0}"

---
apiVersion: v1
kind: Secret
metadata:
  name: mongodb-keyfile
  namespace: codeclashers
type: Opaque
stringData:
  keyfile: "${MONGODB_KEYFILE}"

---
# Note: ghcr-secret is created separately via docker-registry secret type
# See sync-secrets.yml workflow for implementation

