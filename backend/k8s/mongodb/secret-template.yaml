# MongoDB Secrets Template
# DO NOT COMMIT ACTUAL SECRETS
# 
# Create the secret using:
# kubectl create secret generic mongodb-secrets \
#   --namespace=codeclashers \
#   --from-literal=MONGO_INITDB_ROOT_USERNAME="admin" \
#   --from-literal=MONGO_INITDB_ROOT_PASSWORD="your-secure-password" \
#   --from-literal=REPLICA_SET_NAME="rs0"
#
# Create the keyfile secret for replica set authentication:
# openssl rand -base64 756 > mongodb-keyfile
# kubectl create secret generic mongodb-keyfile \
#   --namespace=codeclashers \
#   --from-file=keyfile=./mongodb-keyfile

apiVersion: v1
kind: Secret
metadata:
  name: mongodb-secrets
  namespace: codeclashers
type: Opaque
stringData:
  MONGO_INITDB_ROOT_USERNAME: "CHANGE_ME"
  MONGO_INITDB_ROOT_PASSWORD: "CHANGE_ME"
  REPLICA_SET_NAME: "rs0"

---
apiVersion: v1
kind: Secret
metadata:
  name: mongodb-keyfile
  namespace: codeclashers
type: Opaque
stringData:
  keyfile: |
    # Generate with: openssl rand -base64 756
    # All MongoDB pods must share the same keyfile for replica set authentication

